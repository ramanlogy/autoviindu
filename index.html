<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
<title>AutoViindu – Find Your Perfect Car in Nepal</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
/* ═══════════════════════════════════════════
   DESIGN TOKENS
═══════════════════════════════════════════ */
:root{
  /* Brand — Forest Green + Gold (AutoViindu) */
  --brand:#1A6B2A;
  --brand-d:#145521;
  --brand-l:#EEF7F0;
  --brand-ll:#F4FAF5;
  --gold:#B8920A;
  --gold-d:#9A7A08;
  --gold-l:#FBF5E0;
  --gold-ll:#FEFAED;
  /* Greens (EMI/success) */
  --go:#059669;
  --go-l:#ECFDF5;
  /* Ink scale */
  --ink:#0D0D14;
  --ink2:#1E2030;
  --ink3:#4A5168;
  --ink4:#8891A8;
  --ink5:#B8BECC;
  /* Surface scale */
  --s0:#FFFFFF;
  --s1:#F7F8FB;
  --s2:#F0F2F6;
  --s3:#E8EBF2;
  --border:#E2E5EE;
  --border-d:#D0D4E0;
  /* Shadows */
  --sh-xs:0 1px 3px rgba(0,0,0,.06);
  --sh-sm:0 2px 10px rgba(0,0,0,.07);
  --sh-md:0 8px 28px rgba(0,0,0,.10);
  --sh-lg:0 20px 56px rgba(0,0,0,.14);
  --sh-xl:0 36px 80px rgba(0,0,0,.18);
  /* Radii */
  --r4:4px;--r8:8px;--r12:12px;--r16:16px;--r20:20px;--r24:24px;--rpill:999px;
  /* Header height */
  --hh:72px;
  /* Transitions */
  --ease:.22s cubic-bezier(.4,0,.2,1);
}

/* ═══════════════════════════════════════════
   RESET & BASE
═══════════════════════════════════════════ */
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;-webkit-tap-highlight-color:transparent;font-size:16px;}
body{font-family:'Outfit',sans-serif;color:var(--ink);background:var(--s0);line-height:1.6;overflow-x:hidden;}
a{color:inherit;text-decoration:none;cursor:pointer;}
button{cursor:pointer;font-family:'Outfit',sans-serif;border:none;outline:none;}
img{display:block;max-width:100%;}
svg{flex-shrink:0;}
input,select,textarea{font-family:'Outfit',sans-serif;}
::selection{background:rgba(26,107,42,.15);}

/* ═══════════════════════════════════════════
   KEYFRAMES
═══════════════════════════════════════════ */
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.45;transform:scale(.9)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
@keyframes menuDrop{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
@keyframes spin{to{transform:rotate(360deg)}}

/* ═══════════════════════════════════════════
   LAYOUT
═══════════════════════════════════════════ */
.wrap{max-width:1300px;margin:0 auto;padding:0 24px;}
@media(max-width:600px){.wrap{padding:0 16px;}}

/* ═══════════════════════════════════════════
   TOPBAR
═══════════════════════════════════════════ */
.topbar{
  background:var(--ink);
  color:rgba(255,255,255,.45);
  font-size:12px;
  font-weight:500;
  letter-spacing:.01em;
  padding:7px 0;
}
.topbar .wrap{display:flex;justify-content:space-between;align-items:center;gap:8px;}
.tb-group{display:flex;align-items:center;gap:18px;}
.tb-item{display:flex;align-items:center;gap:5px;color:rgba(255,255,255,.4);transition:color var(--ease);}
.tb-item:hover{color:rgba(255,255,255,.8);}
.tb-sep{width:1px;height:12px;background:rgba(255,255,255,.1);}
@media(max-width:640px){.tb-item.hide-sm{display:none;}.topbar{padding:6px 0;}}

/* ═══════════════════════════════════════════
   HEADER
═══════════════════════════════════════════ */
.hdr{
  position:sticky;top:0;z-index:950;
  background:rgba(255,255,255,.97);
  backdrop-filter:blur(24px);
  -webkit-backdrop-filter:blur(24px);
  border-bottom:1px solid var(--border);
  box-shadow:var(--sh-xs);
}
.hdr-inner{
  display:flex;align-items:center;
  gap:20px;height:var(--hh);
}

/* Logo */
.logo{display:flex;align-items:center;gap:11px;flex-shrink:0;}
.logo-mark{
  height:46px;
  display:flex;align-items:center;justify-content:center;
  flex-shrink:0;
}
.logo-word{
  font-family:'Bebas Neue',sans-serif;
  font-size:26px;
  letter-spacing:.5px;
  color:var(--ink);
  line-height:1;
}
.logo-word span{color:var(--brand);}
.logo-tag{
  font-size:10px;
  font-weight:600;
  color:var(--ink4);
  letter-spacing:.5px;
  margin-top:1px;
  text-transform:uppercase;
}

/* Search */
.hdr-srch{
  flex:1;max-width:480px;
  display:flex;
  align-items:center;
  gap:0;
  border:1.5px solid var(--border);
  border-radius:var(--rpill);
  background:var(--s1);
  transition:border-color var(--ease),box-shadow var(--ease),background var(--ease);
  overflow:hidden;
}
.hdr-srch:focus-within{
  border-color:var(--brand);
  background:var(--s0);
  box-shadow:0 0 0 3px rgba(26,107,42,.08);
}
.hdr-srch-ico{padding:0 12px 0 18px;color:var(--ink5);display:flex;align-items:center;flex-shrink:0;}
.hdr-srch input{
  flex:1;border:none;background:transparent;
  font-size:14px;font-weight:500;
  color:var(--ink);outline:none;
  padding:10px 0;
}
.hdr-srch input::placeholder{color:var(--ink4);}
.hdr-srch-btn{
  margin:4px;
  padding:7px 20px;
  background:var(--brand);
  color:#fff;
  border-radius:var(--rpill);
  font-size:13px;font-weight:700;
  letter-spacing:.01em;
  transition:background var(--ease),transform var(--ease);
  flex-shrink:0;
}
.hdr-srch-btn:hover{background:var(--brand-d);}
.hdr-srch-btn:active{transform:scale(.97);}

/* Nav */
.hdr-nav{display:flex;align-items:center;gap:6px;margin-left:auto;flex-shrink:0;}
.hdr-link{
  padding:8px 14px;
  border-radius:var(--r8);
  font-size:13.5px;font-weight:600;
  color:var(--ink3);
  transition:all var(--ease);
  display:flex;align-items:center;gap:5px;
  white-space:nowrap;
}
.hdr-link:hover{background:var(--s1);color:var(--ink);}
.hdr-btn-outline{
  padding:8px 16px;
  border:1.5px solid var(--border-d);
  border-radius:var(--r8);
  font-size:13.5px;font-weight:600;
  color:var(--ink2);
  background:var(--s0);
  transition:all var(--ease);
  display:flex;align-items:center;gap:5px;
  white-space:nowrap;
}
.hdr-btn-outline:hover{border-color:var(--brand);color:var(--brand);background:var(--brand-ll);}
.hdr-btn-primary{
  padding:8px 20px;
  border-radius:var(--r8);
  font-size:13.5px;font-weight:700;
  color:#fff;
  background:var(--brand);
  transition:all var(--ease);
  display:flex;align-items:center;gap:6px;
  white-space:nowrap;
  box-shadow:0 2px 10px rgba(26,107,42,.25);
}
.hdr-btn-primary:hover{background:var(--brand-d);box-shadow:0 4px 16px rgba(26,107,42,.35);transform:translateY(-1px);}
.hdr-btn-primary:active{transform:translateY(0);}

/* Hamburger */
.hdr-burger{
  display:none;
  flex-direction:column;gap:5px;
  padding:10px;margin-left:auto;
  background:var(--s1);
  border:1.5px solid var(--border);
  border-radius:var(--r8);
  cursor:pointer;
}
.hdr-burger span{
  display:block;width:20px;height:2px;
  background:var(--ink);border-radius:2px;
  transition:all .3s;
}
.hdr-burger.open span:nth-child(1){transform:translateY(7px) rotate(45deg);}
.hdr-burger.open span:nth-child(2){opacity:0;transform:scaleX(0);}
.hdr-burger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg);}

/* ═══════════════════════════════════════════
   SUBNAV
═══════════════════════════════════════════ */
.subnav{
  background:var(--s0);
  border-bottom:1px solid var(--border);
  overflow-x:auto;
  scrollbar-width:none;
  -webkit-overflow-scrolling:touch;
}
.subnav::-webkit-scrollbar{display:none;}
.subnav .wrap{
  display:flex;white-space:nowrap;
  padding:0 24px;
  gap:2px;
}
.snav{
  display:flex;align-items:center;gap:6px;
  padding:11px 14px;
  font-size:13px;font-weight:600;
  color:var(--ink4);
  border-bottom:2px solid transparent;
  margin-bottom:-1px;
  transition:all var(--ease);
  cursor:pointer;
  flex-shrink:0;
}
.snav:hover,.snav.act{color:var(--brand);border-bottom-color:var(--brand);}
.snav .hot{
  background:var(--brand);color:#fff;
  font-size:8px;font-weight:800;
  padding:2px 6px;border-radius:var(--rpill);
  letter-spacing:.4px;text-transform:uppercase;
}

/* Mobile Drawer */
.mob-drawer{
  display:none;
  position:fixed;
  inset:0;top:calc(var(--hh) + 30px);
  background:rgba(13,13,20,.5);
  z-index:900;
  backdrop-filter:blur(6px);
}
.mob-drawer.open{display:block;}
.mob-panel{
  background:var(--s0);
  padding:16px;
  max-height:calc(100vh - calc(var(--hh)+30px));
  overflow-y:auto;
  animation:menuDrop .2s ease both;
  border-bottom:1px solid var(--border);
}
.mob-srch-row{
  display:flex;align-items:center;gap:0;
  border:1.5px solid var(--border);
  border-radius:var(--rpill);
  background:var(--s1);
  overflow:hidden;
  margin-bottom:12px;
}
.mob-srch-row input{
  flex:1;border:none;background:transparent;
  font-size:14px;padding:10px 14px;outline:none;
}
.mob-srch-row button{
  padding:8px 18px;
  background:var(--brand);color:#fff;
  border-radius:var(--rpill);
  margin:3px;font-size:13px;font-weight:700;
}
.mob-nav-item{
  display:flex;align-items:center;gap:10px;
  padding:13px 12px;
  border-radius:var(--r12);
  font-size:14.5px;font-weight:600;
  color:var(--ink2);
  cursor:pointer;
  transition:all var(--ease);
}
.mob-nav-item:hover{background:var(--brand-ll);color:var(--brand);}
.mob-divider{height:1px;background:var(--border);margin:8px 0;}
.mob-ctas{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:12px;}

/* ═══════════════════════════════════════════
   HERO — CLEAN LIGHT STYLE
═══════════════════════════════════════════ */
.hero{
  background:linear-gradient(160deg, #060D08 0%, #091209 45%, #0D1A10 100%);
  position:relative;
  overflow:hidden;
  padding:64px 0 100px;
}
.hero-mesh{
  position:absolute;inset:0;
  background:radial-gradient(ellipse 700px 500px at 70% 50%, rgba(26,107,42,.16), transparent);
  pointer-events:none;
}
.hero-dots{
  position:absolute;inset:0;
  background-image:radial-gradient(rgba(255,255,255,.04) 1px, transparent 1px);
  background-size:28px 28px;
  pointer-events:none;
}
.hero-fade{
  position:absolute;bottom:0;left:0;right:0;
  height:120px;
  background:linear-gradient(to top, #fff, transparent);
  pointer-events:none;
}
.hero-inner{
  position:relative;z-index:2;
  display:grid;
  grid-template-columns:1fr 420px;
  gap:60px;
  align-items:center;
}
.hero-pill{
  display:inline-flex;align-items:center;gap:7px;
  background:rgba(184,146,10,.12);
  border:1px solid rgba(184,146,10,.28);
  border-radius:var(--rpill);
  padding:5px 14px 5px 10px;
  font-size:12px;font-weight:600;
  color:#D4AE30;
  margin-bottom:22px;
}
.hero-pill-dot{
  width:6px;height:6px;
  background:var(--gold);
  border-radius:50%;
  animation:pulse 2s infinite;
}
.hero-h1{
  font-family:'Bebas Neue',sans-serif;
  font-size:72px;
  line-height:.98;
  color:#fff;
  letter-spacing:1px;
  margin-bottom:18px;
}
.hero-h1 .accent{
  color:var(--gold);
  position:relative;
  display:inline-block;
}
.hero-h1 .accent::after{
  content:'';
  position:absolute;
  bottom:-2px;left:0;right:0;
  height:3px;
  background:linear-gradient(90deg,var(--gold),transparent);
  border-radius:var(--rpill);
}
.hero-desc{
  font-size:16px;font-weight:400;
  color:rgba(255,255,255,.5);
  line-height:1.7;
  margin-bottom:32px;
  max-width:420px;
}
.hero-btns{
  display:flex;gap:12px;flex-wrap:wrap;
  margin-bottom:40px;
}
.btn-hero-primary{
  display:inline-flex;align-items:center;gap:8px;
  padding:14px 28px;
  background:var(--brand);
  color:#fff;
  border-radius:var(--r12);
  font-size:15px;font-weight:700;
  transition:all var(--ease);
  box-shadow:0 6px 24px rgba(26,107,42,.35);
}
.btn-hero-primary:hover{background:var(--brand-d);transform:translateY(-2px);box-shadow:0 10px 32px rgba(26,107,42,.45);}
.btn-hero-ghost{
  display:inline-flex;align-items:center;gap:8px;
  padding:14px 28px;
  background:rgba(255,255,255,.08);
  color:rgba(255,255,255,.85);
  border:1.5px solid rgba(255,255,255,.12);
  border-radius:var(--r12);
  font-size:15px;font-weight:600;
  transition:all var(--ease);
}
.btn-hero-ghost:hover{background:rgba(255,255,255,.13);border-color:rgba(255,255,255,.2);}
.hero-stats{display:flex;gap:0;flex-wrap:wrap;}
.hstat{padding:0 28px 0 0;}
.hstat:first-child{padding-left:0;}
.hstat+.hstat{
  padding-left:28px;
  border-left:1px solid rgba(255,255,255,.08);
}
.hstat-n{
  font-family:'Bebas Neue',sans-serif;
  font-size:36px;
  color:#fff;
  line-height:1;
  letter-spacing:.5px;
}
.hstat-n .brand{color:var(--gold);}
.hstat-l{font-size:11px;font-weight:500;color:rgba(255,255,255,.35);margin-top:2px;letter-spacing:.3px;}

/* Hero Cards Sidebar */
.hero-sidebar{display:flex;flex-direction:column;gap:10px;}
.hero-card-label{
  font-size:10px;font-weight:700;
  color:rgba(255,255,255,.25);
  text-transform:uppercase;letter-spacing:.8px;
  margin-bottom:2px;
}
.hcard{
  display:flex;align-items:center;gap:12px;
  padding:12px 14px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--r12);
  cursor:pointer;
  transition:all var(--ease);
  position:relative;overflow:hidden;
}
.hcard::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(90deg,rgba(26,107,42,.06),transparent);
  opacity:0;transition:opacity var(--ease);
}
.hcard:hover{
  background:rgba(255,255,255,.09);
  border-color:rgba(26,107,42,.3);
  transform:translateX(4px);
}
.hcard:hover::before{opacity:1;}
.hcard-thumb{
  width:64px;height:42px;
  border-radius:var(--r8);
  overflow:hidden;background:rgba(255,255,255,.04);
  flex-shrink:0;
}
.hcard-thumb img{width:100%;height:100%;object-fit:cover;}
.hcard-info{flex:1;min-width:0;}
.hcard-name{font-size:13px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.hcard-sub{font-size:11px;color:rgba(255,255,255,.38);margin-top:1px;}
.hcard-price{font-size:12.5px;font-weight:800;color:var(--gold);text-align:right;flex-shrink:0;}
.hcard-rating{font-size:10px;color:#FBBF24;font-weight:700;margin-top:2px;display:flex;align-items:center;gap:2px;justify-content:flex-end;}
.hcard-viewall{
  font-size:12px;color:rgba(255,255,255,.3);
  display:flex;align-items:center;gap:4px;justify-content:flex-end;
  cursor:pointer;margin-top:2px;
}
.hcard-viewall:hover{color:rgba(255,255,255,.6);}

/* ═══════════════════════════════════════════
   SEARCH PANEL
═══════════════════════════════════════════ */
/* ── Search Panel Wrapper ── */
.sp-wrap {
  margin: -52px auto 0;   /* auto left/right = centered */
  max-width: 1100px;
  width: 90%;             /* breathing room on all screens */
  position: relative;
  z-index: 20;
}

/* ── Search Row: responsive columns ── */
.sp-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr auto;
  gap: 12px;
  align-items: end;
}

/* ── Tablet ── */
@media (max-width: 900px) {
  .sp-wrap { width: 94%; margin-top: -36px; }

  .sp-row {
    grid-template-columns: 1fr 1fr;
  }

  .sp-btn-search {
    grid-column: 1 / -1;   /* full width button */
    justify-content: center;
  }
}

/* ── Mobile ── */
@media (max-width: 600px) {
  .sp-wrap { width: 100%; margin-top: -24px; border-radius: 0; }

  .sp-box { border-radius: 0; }

  .sp-row {
    grid-template-columns: 1fr;  /* stack everything */
  }

  .sp-btn-search {
    grid-column: 1;
    justify-content: center;
    padding: 14px;
    font-size: 15px;
  }

  .sp-tabs {
    overflow-x: auto;            /* tabs scroll horizontally on small screens */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .sp-tabs::-webkit-scrollbar { display: none; }

  .sp-tab {
    padding: 12px 14px;
    font-size: 13px;
  }

  .sp-body { padding: 14px 14px; }
  .sp-footer { padding: 10px 14px 14px; }
}
.sp-box{
  background:var(--s0);
  border-radius:var(--r20);
  box-shadow:var(--sh-xl);
  border:1px solid var(--border);
  overflow:hidden;
}
.sp-tabs{
  display:flex;
  border-bottom:1px solid var(--border);
  background:var(--s1);
  gap:0;
  padding:0 4px;
}
.sp-tab{
  display:flex;align-items:center;gap:7px;
  padding:14px 20px;
  font-size:14px;font-weight:600;
  color:var(--ink4);
  background:none;
  border-bottom:2.5px solid transparent;
  margin-bottom:-1px;
  transition:all var(--ease);
  flex-shrink:0;
  cursor:pointer;
}
.sp-tab.act{color:var(--brand);border-bottom-color:var(--brand);background:rgba(26,107,42,.04);}
.sp-tab:hover:not(.act){color:var(--ink2);}
.sp-body{padding:20px 24px;}

.sp-field label{
  display:block;
  font-size:11px;font-weight:700;
  color:var(--ink4);
  text-transform:uppercase;
  letter-spacing:.6px;
  margin-bottom:6px;
}
.sp-sel{
  width:100%;
  padding:11px 36px 11px 14px;
  border:1.5px solid var(--border);
  border-radius:var(--r8);
  font-family:'Outfit',sans-serif;
  font-size:14px;font-weight:500;
  color:var(--ink2);
  background:var(--s1);
  outline:none;
  appearance:none;-webkit-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238891A8' stroke-width='2.5'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right 10px center;
  background-size:14px;
  cursor:pointer;
  transition:all var(--ease);
}
.sp-sel:focus{border-color:var(--brand);background:var(--s0);box-shadow:0 0 0 3px rgba(26,107,42,.07);}
.sp-btn-search{
  display:flex;align-items:center;gap:8px;
  padding:12px 28px;
  background:var(--brand);
  color:#fff;
  border-radius:var(--r8);
  font-size:14.5px;font-weight:700;
  transition:all var(--ease);
  box-shadow:0 4px 14px rgba(26,107,42,.3);
  white-space:nowrap;
}
.sp-btn-search:hover{background:var(--brand-d);transform:translateY(-1px);box-shadow:0 6px 20px rgba(26,107,42,.4);}
.sp-btn-search:active{transform:translateY(0);}
.sp-footer{
  padding:10px 24px 16px;
  border-top:1px solid var(--s2);
  display:flex;align-items:center;gap:8px;flex-wrap:wrap;
}
.sp-footer-label{font-size:12px;font-weight:600;color:var(--ink4);}
.sp-chip{
  padding:5px 14px;
  background:var(--s1);
  border:1.5px solid var(--border);
  border-radius:var(--rpill);
  font-size:12.5px;font-weight:600;
  color:var(--ink3);
  cursor:pointer;
  transition:all var(--ease);
}
.sp-chip:hover{background:var(--brand-ll);border-color:var(--brand);color:var(--brand);}

/* ═══════════════════════════════════════════
   SECTIONS
═══════════════════════════════════════════ */
.sec{padding:64px 0;}
.sec-light{background:var(--s1);}
.sec-dark{background:var(--ink);position:relative;overflow:hidden;}
.sec-hdr{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:28px;gap:16px;}
.sec-label{
  display:inline-flex;align-items:center;gap:6px;
  font-size:11.5px;font-weight:700;
  color:var(--gold);
  text-transform:uppercase;letter-spacing:.8px;
  margin-bottom:8px;
}
.sec-label-dot{width:5px;height:5px;background:var(--gold);border-radius:50%;}
.sec-title{
  font-family:'Bebas Neue',sans-serif;
  font-size:36px;
  letter-spacing:.5px;
  color:var(--ink);
  line-height:1;
}
.sec-title .dim{color:var(--ink4);}
.sec-sub{font-size:14px;color:var(--ink3);margin-top:6px;font-weight:400;}
.sec-viewall{
  display:flex;align-items:center;gap:6px;
  font-size:13.5px;font-weight:700;
  color:var(--brand);
  flex-shrink:0;
  transition:gap var(--ease);
}
.sec-viewall:hover{gap:9px;}
.sec-viewall svg{transition:transform var(--ease);}
.sec-viewall:hover svg{transform:translateX(4px);}

/* ═══════════════════════════════════════════
   BRAND SCROLL
═══════════════════════════════════════════ */
.brands-grid{
  display:grid;
  grid-template-columns:repeat(8,1fr);
  gap:12px;
}
.brand-card{
  background:var(--s0);
  border:1.5px solid var(--border);
  border-radius:var(--r12);
  padding:18px 10px 14px;
  text-align:center;
  cursor:pointer;
  transition:all var(--ease);
  position:relative;
  overflow:hidden;
}
.brand-card:hover{
  border-color:var(--brand);
  box-shadow:0 8px 24px rgba(26,107,42,.1);
  transform:translateY(-3px);
}
.brand-logo{
  width:60px;height:34px;
  display:flex;align-items:center;justify-content:center;
  margin:0 auto 10px;
}
.brand-name{font-size:12px;font-weight:700;color:var(--ink2);}
.brand-count{font-size:10.5px;color:var(--ink5);margin-top:2px;}

/* ═══════════════════════════════════════════
   BODY TYPES
═══════════════════════════════════════════ */
.body-grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:12px;
}
.body-card{
  background:var(--s0);
  border:2px solid var(--border);
  border-radius:var(--r16);
  padding:20px 8px 16px;
  text-align:center;
  cursor:pointer;
  transition:all var(--ease);
  position:relative;
}
.body-card:hover,.body-card.sel{
  border-color:var(--brand);
  background:var(--brand-ll);
}
.body-card:hover{transform:translateY(-2px);}
.body-icon{height:56px;display:flex;align-items:center;justify-content:center;margin-bottom:10px;}
.body-name{font-size:13px;font-weight:700;color:var(--ink);}
.body-count{font-size:11px;color:var(--ink4);margin-top:3px;}

/* ═══════════════════════════════════════════
   CAR CARDS
═══════════════════════════════════════════ */
.cars-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:20px;}
.car-card{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r16);
  overflow:hidden;
  transition:all var(--ease);
  cursor:pointer;
  display:flex;flex-direction:column;
}
.car-card:hover{
  box-shadow:var(--sh-lg);
  transform:translateY(-5px);
  border-color:rgba(26,107,42,.15);
}
.car-img-wrap{
  position:relative;
  height:200px;
  overflow:hidden;
  background:var(--s2);
}
.car-img{
  width:100%;height:100%;
  object-fit:cover;
  transition:transform .55s cubic-bezier(.4,0,.2,1);
}
.car-card:hover .car-img{transform:scale(1.06);}
.car-badge-wrap{position:absolute;top:10px;left:10px;display:flex;gap:5px;flex-wrap:wrap;}
.cbadge{
  font-size:9.5px;font-weight:800;
  padding:3px 9px;
  border-radius:var(--rpill);
  text-transform:uppercase;letter-spacing:.5px;
  backdrop-filter:blur(6px);
}
.cbadge-ev{background:rgba(5,150,105,.9);color:#fff;}
.cbadge-new{background:rgba(37,99,235,.9);color:#fff;}
.cbadge-pop{background:rgba(26,107,42,.9);color:#fff;}
.cbadge-hybrid{background:rgba(124,58,237,.9);color:#fff;}
.car-wish-btn{
  position:absolute;top:10px;right:10px;
  width:32px;height:32px;
  background:rgba(255,255,255,.92);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  transition:all var(--ease);
  backdrop-filter:blur(8px);
  border:none;
}
.car-wish-btn:hover{background:#fff;transform:scale(1.1);}
.car-wish-btn.on svg{stroke:#EF4444;fill:#EF4444;}
.car-score{
  position:absolute;bottom:10px;right:10px;
  background:rgba(0,0,0,.72);
  color:#fff;
  font-size:10.5px;font-weight:800;
  padding:3px 10px;
  border-radius:var(--rpill);
  display:flex;align-items:center;gap:3px;
  backdrop-filter:blur(4px);
}
.car-body{padding:16px;flex:1;display:flex;flex-direction:column;}
.car-meta-row{
  display:flex;align-items:center;gap:7px;
  margin-bottom:8px;
}
.rating-badge{
  display:inline-flex;align-items:center;gap:3px;
  background:#14532D;color:#fff;
  font-size:11px;font-weight:800;
  padding:3px 9px;border-radius:var(--rpill);
}
.car-reviews{font-size:11.5px;color:var(--ink4);}
.car-extra-tag{
  margin-left:auto;
  font-size:10px;font-weight:800;
  color:var(--brand);
  background:var(--brand-ll);
  padding:2px 9px;
  border-radius:var(--rpill);
}
.car-title{font-size:16.5px;font-weight:800;color:var(--ink);}
.car-subtitle{font-size:12px;color:var(--ink4);margin-top:2px;margin-bottom:12px;}
.car-specs-row{
  display:flex;flex-wrap:wrap;gap:5px;
  margin-bottom:14px;
}
.spec-chip{
  display:inline-flex;align-items:center;gap:4px;
  background:var(--s1);
  border:1px solid var(--border);
  border-radius:var(--rpill);
  padding:4px 11px;
  font-size:11.5px;font-weight:500;
  color:var(--ink3);
}
.car-price-block{
  border-top:1px solid var(--s2);
  padding-top:12px;
  margin-top:auto;
}
.car-price{font-size:18px;font-weight:800;color:var(--ink);}
.car-emi{font-size:11px;color:var(--ink4);margin-top:3px;}
.car-emi strong{color:var(--go);}
.car-actions{
  display:flex;gap:8px;
  margin-top:12px;
}
.btn-getprice{
  flex:1;padding:9px 6px;
  border:1.5px solid var(--brand);
  color:var(--brand);
  background:var(--s0);
  border-radius:var(--r8);
  font-size:13px;font-weight:700;
  transition:all var(--ease);
}
.btn-getprice:hover{background:var(--brand-ll);}
.btn-viewdetail{
  flex:1;padding:9px 6px;
  background:var(--brand);
  color:#fff;
  border-radius:var(--r8);
  font-size:13px;font-weight:700;
  transition:all var(--ease);
}
.btn-viewdetail:hover{background:var(--brand-d);}

/* ═══════════════════════════════════════════
   USED CARS
═══════════════════════════════════════════ */
.used-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;}
.used-card{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r16);
  overflow:hidden;
  cursor:pointer;
  transition:all var(--ease);
  display:flex;flex-direction:column;
}
.used-card:hover{box-shadow:var(--sh-md);transform:translateY(-3px);}
.used-img{height:168px;overflow:hidden;background:var(--s2);position:relative;}
.used-img img{width:100%;height:100%;object-fit:cover;transition:transform .45s;}
.used-card:hover .used-img img{transform:scale(1.05);}
.used-body{padding:14px;flex:1;}
.used-name{font-size:14.5px;font-weight:800;color:var(--ink);margin-bottom:3px;}
.used-meta{
  display:flex;gap:10px;flex-wrap:wrap;
  font-size:12px;color:var(--ink4);
  margin-bottom:10px;
}
.used-meta span{display:flex;align-items:center;gap:3px;}
.used-price{font-size:18px;font-weight:800;color:var(--ink);}
.used-tags{display:flex;gap:5px;flex-wrap:wrap;margin-top:8px;}
.utag{font-size:10.5px;font-weight:700;padding:3px 9px;border-radius:var(--rpill);}
.utag-go{background:var(--go-l);color:var(--go);}
.utag-br{background:var(--brand-ll);color:var(--brand);}

/* ═══════════════════════════════════════════
   BUDGET SECTION
═══════════════════════════════════════════ */
.budget-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;}
.budget-card{
  border-radius:var(--r16);
  padding:24px;
  cursor:pointer;
  transition:all var(--ease);
  position:relative;overflow:hidden;
  border:2px solid transparent;
}
.budget-card:hover{transform:translateY(-3px);box-shadow:var(--sh-md);}
.budget-pill{
  display:inline-flex;
  font-size:10px;font-weight:800;
  text-transform:uppercase;letter-spacing:.6px;
  padding:3px 11px;border-radius:var(--rpill);
  margin-bottom:12px;
}
.budget-range{font-size:17px;font-weight:800;color:var(--ink);margin-bottom:5px;line-height:1.2;}
.budget-count{font-size:13px;color:var(--ink3);}
.budget-arrow{
  position:absolute;right:18px;bottom:20px;
  opacity:.5;
}
.budget-orb{
  position:absolute;right:-24px;bottom:-24px;
  width:90px;height:90px;
  border-radius:50%;
  opacity:.12;
}

/* ═══════════════════════════════════════════
   EV PROMO STRIP
═══════════════════════════════════════════ */
.ev-strip{
  background:linear-gradient(120deg,#060D08,#071A0E 55%,#060F0A);
  border-radius:var(--r20);
  padding:44px 52px;
  color:#fff;
  position:relative;overflow:hidden;
}
.ev-strip::before{
  content:'';position:absolute;
  right:-80px;top:-80px;
  width:320px;height:320px;
  background:radial-gradient(circle,rgba(74,222,128,.07),transparent 70%);
}
.ev-strip-grid{
  display:grid;
  grid-template-columns:1fr auto;
  gap:48px;align-items:center;
  position:relative;z-index:1;
}
.ev-pill{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(74,222,128,.1);
  border:1px solid rgba(74,222,128,.18);
  border-radius:var(--rpill);
  padding:5px 14px;
  font-size:12px;font-weight:700;color:#4ADE80;
  margin-bottom:14px;
}
.ev-h2{
  font-family:'Bebas Neue',sans-serif;
  font-size:46px;letter-spacing:.5px;
  color:#fff;line-height:1;
  margin-bottom:14px;
}
.ev-h2 .green{color:#4ADE80;}
.ev-desc{font-size:15px;color:rgba(255,255,255,.45);line-height:1.7;max-width:460px;margin-bottom:24px;}
.ev-btns{display:flex;gap:10px;flex-wrap:wrap;}
.btn-ev-primary{
  display:inline-flex;align-items:center;gap:7px;
  padding:12px 24px;
  background:var(--brand);color:#fff;
  border-radius:var(--r12);
  font-size:14px;font-weight:700;
  transition:all var(--ease);
}
.btn-ev-primary:hover{background:var(--brand-d);}
.btn-ev-ghost{
  display:inline-flex;align-items:center;gap:7px;
  padding:12px 24px;
  background:rgba(255,255,255,.07);color:rgba(255,255,255,.8);
  border:1.5px solid rgba(255,255,255,.12);
  border-radius:var(--r12);
  font-size:14px;font-weight:600;
  transition:all var(--ease);
}
.btn-ev-ghost:hover{background:rgba(255,255,255,.12);}
.ev-stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.ev-stat{
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.07);
  border-radius:var(--r12);
  padding:20px;text-align:center;
}
.ev-stat-n{
  font-family:'Bebas Neue',sans-serif;
  font-size:30px;letter-spacing:.5px;
  line-height:1;margin-bottom:4px;
}
.ev-stat-l{font-size:11px;color:rgba(255,255,255,.35);letter-spacing:.2px;}

/* ═══════════════════════════════════════════
   NEWS GRID
═══════════════════════════════════════════ */
.news-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;}
.news-card{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r16);
  overflow:hidden;
  cursor:pointer;
  transition:all var(--ease);
}
.news-card:hover{box-shadow:var(--sh-md);transform:translateY(-3px);}
.news-img{height:180px;overflow:hidden;background:var(--s2);}
.news-img img{width:100%;height:100%;object-fit:cover;transition:transform .45s;}
.news-card:hover .news-img img{transform:scale(1.05);}
.news-body{padding:18px;}
.news-tag{
  font-size:10px;font-weight:800;
  color:var(--brand);
  text-transform:uppercase;letter-spacing:.7px;
  margin-bottom:8px;
}
.news-title{
  font-size:14.5px;font-weight:700;
  color:var(--ink);line-height:1.45;
  margin-bottom:10px;
}
.news-meta{
  font-size:12px;color:var(--ink4);
  display:flex;align-items:center;gap:8px;
}
.news-dot{width:3px;height:3px;background:var(--border-d);border-radius:50%;}

/* ═══════════════════════════════════════════
   PAGE HERO (inner pages)
═══════════════════════════════════════════ */
.page-hero{
  background:linear-gradient(140deg,#060D08,#0D1A10);
  padding:32px 0 38px;
  color:#fff;
  position:relative;overflow:hidden;
}
.page-hero::before{
  content:'';position:absolute;inset:0;
  background:url('https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=1400&q=10') center/cover;
  opacity:.03;
}
.page-hero .wrap{position:relative;z-index:1;}
.breadcrumb{
  display:flex;align-items:center;gap:6px;
  font-size:12px;color:rgba(255,255,255,.32);
  margin-bottom:12px;flex-wrap:wrap;
}
.breadcrumb a{color:rgba(255,255,255,.32);transition:color var(--ease);}
.breadcrumb a:hover{color:rgba(255,255,255,.7);}
.page-title{
  font-family:'Bebas Neue',sans-serif;
  font-size:38px;letter-spacing:.5px;
  color:#fff;line-height:1;
  margin-bottom:6px;
}
.page-sub{font-size:13.5px;color:rgba(255,255,255,.4);}

/* ═══════════════════════════════════════════
   LISTING LAYOUT
═══════════════════════════════════════════ */
.listing-layout{display:flex;gap:24px;align-items:flex-start;}
.filter-col{width:240px;flex-shrink:0;}
.filter-box{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r12);
  padding:18px;
  margin-bottom:10px;
}
.filter-hdr{
  display:flex;align-items:center;justify-content:space-between;
  font-size:12px;font-weight:800;
  color:var(--ink);
  text-transform:uppercase;letter-spacing:.6px;
  margin-bottom:14px;
  padding-bottom:10px;
  border-bottom:1px solid var(--border);
}
.filter-hdr button{font-size:12px;color:var(--brand);background:none;font-weight:700;cursor:pointer;}
.filter-row{display:flex;align-items:center;gap:9px;padding:5px 0;}
.filter-row input[type=checkbox]{accent-color:var(--brand);width:15px;height:15px;cursor:pointer;flex-shrink:0;}
.filter-row label{
  font-size:13.5px;color:var(--ink2);cursor:pointer;
  flex:1;display:flex;justify-content:space-between;
}
.filter-row label span{font-size:11px;color:var(--ink5);}
.results-col{flex:1;min-width:0;}
.results-bar{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 18px;
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r12);
  margin-bottom:20px;
  gap:10px;flex-wrap:wrap;
}
.results-count{font-size:14px;font-weight:700;color:var(--ink);}
.results-count span{color:var(--brand);}
.sort-sel{
  padding:8px 30px 8px 12px;
  border:1.5px solid var(--border);
  border-radius:var(--r8);
  font-family:'Outfit',sans-serif;
  font-size:13px;color:var(--ink2);
  outline:none;cursor:pointer;
  background:var(--s1);
  appearance:none;-webkit-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238891A8' stroke-width='2.5'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right 8px center;background-size:12px;
}
.active-tags{display:flex;gap:7px;flex-wrap:wrap;margin-bottom:18px;}
.atag{
  display:inline-flex;align-items:center;gap:5px;
  background:var(--brand-ll);
  border:1px solid rgba(26,107,42,.18);
  color:var(--brand);
  font-size:12.5px;font-weight:700;
  padding:4px 12px;border-radius:var(--rpill);
  cursor:pointer;transition:all var(--ease);
}
.atag:hover{background:rgba(26,107,42,.12);}
.filter-mob-btn{
  display:none;width:100%;padding:12px;
  background:var(--s0);border:1.5px solid var(--border);
  border-radius:var(--r8);
  font-family:'Outfit',sans-serif;font-size:14px;font-weight:700;color:var(--ink2);
  margin-bottom:14px;align-items:center;justify-content:center;gap:7px;
}
.filter-drawer{display:block;}

/* ═══════════════════════════════════════════
   DETAIL PAGE
═══════════════════════════════════════════ */
.detail-layout{display:grid;grid-template-columns:1fr 320px;gap:32px;align-items:start;}
.gallery-main{
  width:100%;height:320px;
  border-radius:var(--r16);
  overflow:hidden;background:var(--s2);
  margin-bottom:12px;
}
.gallery-main img{width:100%;height:100%;object-fit:cover;}
.gallery-thumbs{
  display:flex;gap:8px;
  overflow-x:auto;scrollbar-width:none;
  -webkit-overflow-scrolling:touch;
  padding-bottom:2px;
}
.gallery-thumbs::-webkit-scrollbar{display:none;}
.thumb{
  width:82px;height:56px;
  border-radius:var(--r8);
  overflow:hidden;cursor:pointer;
  border:2px solid transparent;
  transition:all var(--ease);
  flex-shrink:0;background:var(--s2);
}
.thumb.sel{border-color:var(--brand);}
.thumb img{width:100%;height:100%;object-fit:cover;}
.tab-nav{
  display:flex;
  border-bottom:1px solid var(--border);
  background:var(--s0);
  overflow-x:auto;scrollbar-width:none;
}
.tab-nav::-webkit-scrollbar{display:none;}
.tablink{
  padding:13px 20px;
  border:none;border-bottom:2.5px solid transparent;
  background:none;
  font-family:'Outfit',sans-serif;
  font-size:14px;font-weight:700;
  color:var(--ink4);
  margin-bottom:-1px;
  transition:all var(--ease);
  cursor:pointer;white-space:nowrap;
}
.tablink.act{color:var(--brand);border-bottom-color:var(--brand);}
.tabpane{display:none;padding:24px 0;}
.tabpane.act{display:block;}
.spec-table{width:100%;border-collapse:collapse;}
.spec-table tr:nth-child(even){background:var(--s1);}
.spec-table td{
  padding:11px 16px;
  border-bottom:1px solid var(--border);
  font-size:13.5px;
}
.spec-table td:first-child{font-weight:600;color:var(--ink2);width:40%;}
.spec-hl-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:24px;}
.spec-hl{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r12);
  padding:16px;text-align:center;
}
.spec-hl-val{font-size:15px;font-weight:800;color:var(--brand);}
.spec-hl-label{font-size:11px;color:var(--ink4);margin-top:3px;}
.pros-cons-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.pros-box{background:#F0FDF4;border:1.5px solid #BBF7D0;border-radius:var(--r12);padding:20px;}
.cons-box{background:#FFF5F5;border:1.5px solid #FECACA;border-radius:var(--r12);padding:20px;}
.pc-title{font-size:13px;font-weight:800;margin-bottom:12px;}
.pc-item{
  display:flex;align-items:flex-start;gap:8px;
  padding:5px 0;font-size:13px;line-height:1.5;
}
.feat-list{display:flex;flex-wrap:wrap;gap:8px;}
.feat-item{
  display:inline-flex;align-items:center;gap:5px;
  background:var(--s0);border:1px solid var(--border);
  border-radius:var(--r8);padding:7px 14px;
  font-size:12.5px;font-weight:600;color:var(--ink2);
}
.verdict-box{
  background:linear-gradient(135deg,var(--brand-ll),#F8FCF9);
  border:1.5px solid rgba(26,107,42,.12);
  border-radius:var(--r16);padding:24px;
}
.verdict-score{
  font-family:'Bebas Neue',sans-serif;
  font-size:64px;color:var(--brand);
  line-height:1;letter-spacing:.5px;
}
.score-track{height:8px;background:var(--s2);border-radius:var(--rpill);margin-top:12px;overflow:hidden;}
.score-fill{height:100%;background:linear-gradient(90deg,var(--brand),var(--gold));border-radius:var(--rpill);}

/* Sticky Price Card */
.sticky-wrap{position:sticky;top:calc(var(--hh)+8px);}
.price-card{
  background:var(--s0);
  border:1px solid var(--border);
  border-radius:var(--r16);
  padding:22px;
  box-shadow:var(--sh-sm);
}
.emi-card{
  background:var(--go-l);
  border:1.5px solid rgba(5,150,105,.16);
  border-radius:var(--r16);
  padding:20px;
  margin-top:14px;
}
.emi-title{
  font-size:13px;font-weight:800;color:var(--go);
  margin-bottom:14px;
  display:flex;align-items:center;gap:5px;
}
.emi-row{
  display:flex;justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid rgba(5,150,105,.08);
  font-size:13px;
}
.emi-row:last-child{border:none;}
.emi-label{color:var(--ink3);}
.emi-val{font-weight:800;color:var(--ink);}

/* ═══════════════════════════════════════════
   COMPARE PAGE
═══════════════════════════════════════════ */
.cmp-wrap{overflow-x:auto;border-radius:var(--r16);box-shadow:var(--sh-md);}
.cmp-grid{display:grid;grid-template-columns:200px 1fr 1fr;background:var(--s0);min-width:500px;}
.cmp-hdr{padding:16px 18px;background:var(--ink);color:rgba(255,255,255,.75);font-size:14px;font-weight:700;}
.cmp-hdr.dim{color:rgba(255,255,255,.3);font-size:11px;}
.cmp-cell{padding:12px 16px;border-bottom:1px solid var(--border);border-right:1px solid var(--border);font-size:13.5px;}
.cmp-cell:last-child{border-right:none;}
.cmp-label{font-size:12px;font-weight:700;color:var(--ink4);border-right:1px solid var(--border);}
.cmp-win{background:var(--go-l)!important;color:var(--go);font-weight:800;}
.cmp-row:nth-child(even) .cmp-cell{background:var(--s1);}
.add-slot{
  background:var(--s0);
  border:2.5px dashed var(--border-d);
  border-radius:var(--r20);
  min-height:200px;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  gap:10px;cursor:pointer;
  transition:all var(--ease);
}
.add-slot:hover{border-color:var(--brand);background:var(--brand-ll);}
.add-slot.filled{border-style:solid;border-color:var(--brand);}

/* ═══════════════════════════════════════════
   MODAL
═══════════════════════════════════════════ */
.modal-overlay{
  position:fixed;inset:0;
  background:rgba(10,10,20,.55);
  z-index:2000;
  display:flex;align-items:center;justify-content:center;
  backdrop-filter:blur(8px);
  padding:16px;
}
.modal-box{
  background:var(--s0);
  border-radius:var(--r20);
  padding:28px;
  width:100%;max-width:560px;
  max-height:85vh;overflow-y:auto;
  box-shadow:var(--sh-xl);
  animation:fadeUp .25s ease;
}
.modal-head{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:18px;
}
.modal-head h3{font-size:18px;font-weight:800;}
.modal-close{
  width:32px;height:32px;
  background:var(--s1);border:none;
  border-radius:var(--r8);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:background var(--ease);
}
.modal-close:hover{background:var(--s2);}
.modal-input{
  width:100%;padding:12px 16px;
  border:1.5px solid var(--border);
  border-radius:var(--r8);
  font-family:'Outfit',sans-serif;
  font-size:14px;
  margin-bottom:16px;
  outline:none;
  transition:border-color var(--ease);
}
.modal-input:focus{border-color:var(--brand);}
.car-opt{
  display:flex;align-items:center;gap:12px;
  padding:10px 12px;border-radius:var(--r8);
  cursor:pointer;
  border:1.5px solid transparent;
  transition:all var(--ease);
}
.car-opt:hover{background:var(--s1);border-color:var(--border);}
.car-opt-img{width:68px;height:46px;border-radius:var(--r8);overflow:hidden;flex-shrink:0;background:var(--s2);}
.car-opt-img img{width:100%;height:100%;object-fit:cover;}

/* ═══════════════════════════════════════════
   FOOTER
═══════════════════════════════════════════ */
footer{
  background:#080C14;
  color:rgba(255,255,255,.45);
  padding:60px 0 0;
}
.footer-grid{
  display:grid;
  grid-template-columns:2.2fr 1fr 1fr 1.2fr;
  gap:48px;
  padding-bottom:44px;
  border-bottom:1px solid rgba(255,255,255,.05);
}
.footer-brand p{
  font-size:13px;line-height:1.8;
  color:rgba(255,255,255,.28);
  margin:14px 0 20px;
  max-width:300px;
}
.social-row{display:flex;gap:8px;}
.soc{
  width:36px;height:36px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.07);
  border-radius:var(--r8);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all var(--ease);
}
.soc:hover{background:var(--brand);border-color:var(--brand);}
.fc h4{
  font-size:11px;font-weight:800;
  color:rgba(255,255,255,.6);
  text-transform:uppercase;letter-spacing:.9px;
  margin-bottom:16px;
}
.fc ul{list-style:none;}
.fc li{margin-bottom:10px;}
.fc a{
  font-size:13px;color:rgba(255,255,255,.25);
  transition:color var(--ease);
}
.fc a:hover{color:rgba(255,255,255,.75);}
.footer-bot{
  padding:20px 0;
  display:flex;justify-content:space-between;
  align-items:center;
  font-size:12px;color:rgba(255,255,255,.15);
  flex-wrap:wrap;gap:8px;
}

/* ═══════════════════════════════════════════
   UTILITY
═══════════════════════════════════════════ */
.btn{
  display:inline-flex;align-items:center;gap:6px;
  padding:11px 24px;
  border-radius:var(--r8);
  font-family:'Outfit',sans-serif;
  font-size:14px;font-weight:700;
  transition:all var(--ease);
  cursor:pointer;border:none;
}
.btn-primary{background:var(--brand);color:#fff;box-shadow:0 4px 14px rgba(26,107,42,.25);}
.btn-primary:hover{background:var(--brand-d);transform:translateY(-1px);box-shadow:0 7px 22px rgba(26,107,42,.35);}
.btn-outline{background:transparent;color:var(--brand);border:2px solid var(--brand);}
.btn-outline:hover{background:var(--brand-ll);}
.btn-ghost-dark{background:rgba(255,255,255,.07);color:#fff;border:1.5px solid rgba(255,255,255,.12);}
.btn-ghost-dark:hover{background:rgba(255,255,255,.12);}
.btn-sm{padding:7px 16px;font-size:13px;}
.btn-lg{padding:14px 32px;font-size:15px;}
.pill-filter{
  display:inline-flex;align-items:center;
  padding:7px 16px;border-radius:var(--rpill);
  border:1.5px solid var(--border);
  font-size:13px;font-weight:600;
  color:var(--ink3);
  cursor:pointer;transition:all var(--ease);
  background:var(--s0);
}
.pill-filter:hover,.pill-filter.act{background:var(--brand);color:#fff;border-color:var(--brand);}
.divider{height:1px;background:var(--border);margin:20px 0;}

/* ═══════════════════════════════════════════
   RESPONSIVE — TABLET
═══════════════════════════════════════════ */
@media(max-width:1100px){
  .brands-grid{grid-template-columns:repeat(5,1fr);}
  .body-grid{grid-template-columns:repeat(3,1fr);}
  .budget-grid{grid-template-columns:repeat(2,1fr);}
  .footer-grid{grid-template-columns:1fr 1fr;gap:32px;}
  .hero-inner{grid-template-columns:1fr;gap:36px;}
  .hero-sidebar{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;}
  .hero-h1{font-size:60px;}
  .ev-strip-grid{grid-template-columns:1fr;}
  .ev-stats-grid{grid-template-columns:repeat(4,1fr);}
  .detail-layout{grid-template-columns:1fr;}
  .sticky-wrap{position:relative;top:auto;}
  .detail-layout .sticky-wrap{order:-1;}
  .pros-cons-grid{grid-template-columns:1fr;}
  .sp-row{grid-template-columns:1fr 1fr;}
  .sp-row .sp-btn-search{grid-column:1/-1;}
  .news-grid{grid-template-columns:repeat(2,1fr);}
  .hdr-srch{max-width:300px;}
  .hdr-nav .hdr-link{display:none;}
}
@media(max-width:768px){
  :root{--hh:62px;}
  .hdr-srch{display:none;}
  .hdr-burger{display:flex;}
  .hdr-nav{display:none;}
  .subnav{display:none;}
  .hero{padding:44px 0 88px;}
  .hero-h1{font-size:48px;}
  .hero-desc{font-size:14px;}
  .hero-btns{flex-direction:column;gap:10px;}
  .hero-btns .btn-hero-primary,.hero-btns .btn-hero-ghost{width:100%;justify-content:center;}
  .hero-stats{gap:0;}
  .hstat+.hstat{border-left:1px solid rgba(255,255,255,.08);}
  .hero-sidebar{grid-template-columns:1fr;}
  .sp-wrap{margin:-44px 0 0;}
  .sec{padding:44px 0;}
  .sec-title{font-size:30px;}
  .brands-grid{grid-template-columns:repeat(4,1fr);gap:8px;}
  .body-grid{grid-template-columns:repeat(3,1fr);gap:8px;}
  .cars-grid{grid-template-columns:repeat(2,1fr);gap:12px;}
  .car-img-wrap{height:160px;}
  .car-actions{flex-direction:column;gap:6px;}
  .used-grid{grid-template-columns:repeat(2,1fr);gap:12px;}
  .budget-grid{grid-template-columns:repeat(2,1fr);}
  .news-grid{grid-template-columns:1fr;}
  .ev-strip{padding:28px 24px;}
  .footer-grid{grid-template-columns:1fr;gap:28px;}
  .footer-bot{flex-direction:column;text-align:center;}
  .listing-layout{flex-direction:column;}
  .filter-col{width:100%;}
  .filter-mob-btn{display:flex;}
  .filter-drawer{display:none;}
  .filter-drawer.open{display:block;}
  .spec-hl-grid{grid-template-columns:repeat(2,1fr);}
  .gallery-main{height:240px;}
  .sp-row .sp-field:nth-child(n+3){display:none;}
  .sp-tabs .sp-tab:nth-child(n+3){display:none;}
}
@media(max-width:480px){
  .cars-grid{grid-template-columns:1fr;}
  .used-grid{grid-template-columns:1fr;}
  .brands-grid{grid-template-columns:repeat(3,1fr);}
  .body-grid{grid-template-columns:repeat(2,1fr);}
  .budget-grid{grid-template-columns:1fr;}
  .car-actions{flex-direction:row;}
  .spec-hl-grid{grid-template-columns:repeat(3,1fr);}
  .hero-h1{font-size:40px;}
  .hero-stats{gap:0;}
  .hstat{padding:0 16px 0 0;}
  .hstat+.hstat{padding-left:16px;}
}
.site-logo {
  width: clamp(100px, 15vw, 180px);
  height: auto;
  display: block;
}

/* Mobile */
@media (max-width: 480px) {
  .site-logo { width: 110px; }
}

/* Tablet */
@media (min-width: 481px) and (max-width: 768px) {
  .site-logo { width: 140px; }
}

/* Desktop */
@media (min-width: 769px) {
  .site-logo { width: clamp(150px, 12vw, 200px); }
}
</style>
</head>
<body>

<!-- ── COMPARE MODAL ── -->
<div id="cmp-modal" class="modal-overlay" style="display:none" onclick="closeCmpModal(event)">
  <div class="modal-box">
    <div class="modal-head">
      <h3>Select a Car to Compare</h3>
      <button class="modal-close" onclick="document.getElementById('cmp-modal').style.display='none'">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="14" height="14"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <input class="modal-input" id="cmp-search" placeholder="Search by brand or model…" oninput="filterCmpCars(this.value)" autocomplete="off">
    <div id="cmp-options"></div>
  </div>
</div>

<!-- ── MOBILE DRAWER ── -->
<div id="mob-drawer" class="mob-drawer" onclick="closeMobDrawer(event)">
  <div class="mob-panel">
    <div class="mob-srch-row">
      <input placeholder="Search brand, model…" onkeydown="if(event.key==='Enter'){navigate('cars');forceCloseMob();}">
      <button onclick="navigate('cars');forceCloseMob();">Go</button>
    </div>
    <div id="mob-nav-links"></div>
    <div class="mob-divider"></div>
    <div class="mob-ctas">
      <button class="btn btn-outline" style="width:100%;justify-content:center;" onclick="alert('Sell your car: +977-9701076240');forceCloseMob();">Sell Car</button>
      <button class="btn btn-primary" style="width:100%;justify-content:center;" onclick="alert('Login coming soon!');forceCloseMob();">Login</button>
    </div>
  </div>
</div>

<div id="site-header"></div>
<div id="app"></div>
<div id="site-footer"></div>

<script>
/* ════════════════════════════════════════════
   SVG ICON SYSTEM
════════════════════════════════════════════ */
const IC={
  search:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" width="16" height="16"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>`,
  heart:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>`,
  heartFill:`<svg viewBox="0 0 24 24" fill="#EF4444" stroke="#EF4444" stroke-width="2" width="14" height="14"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>`,
  compare:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="15" height="15"><path d="M18 20V10"/><path d="M12 20V4"/><path d="M6 20v-6"/></svg>`,
  fuel:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="11" height="11"><path d="M3 22V3h10v10l2 2V22H3z"/><path d="M15 7h2a2 2 0 012 2v7a1 1 0 002 0v-9l-2-2"/></svg>`,
  gear:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="11" height="11"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93A10 10 0 016.93 4.93M4.93 6.93a10 10 0 000 10.14M6.93 19.07a10 10 0 0010.14 0M19.07 19.07a10 10 0 000-14.14"/></svg>`,
  speed:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="11" height="11"><path d="M12 2a10 10 0 110 20A10 10 0 0112 2z"/><circle cx="12" cy="12" r="1.5" fill="currentColor"/><path d="M12 7l2 4"/></svg>`,
  star:`<svg viewBox="0 0 24 24" fill="currentColor" width="11" height="11"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`,
  phone:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07A19.5 19.5 0 014.69 12 19.79 19.79 0 011.61 3.47 2 2 0 013.6 1.29h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L7.91 8.9a16 16 0 006.13 6.13l1.27-.94a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>`,
  pin:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>`,
  clock:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
  chevR:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="14" height="14"><polyline points="9 18 15 12 9 6"/></svg>`,
  check:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="14" height="14"><polyline points="20 6 9 17 4 12"/></svg>`,
  x:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="14" height="14"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>`,
  user:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="15" height="15"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>`,
  bolt:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>`,
  car:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="15" height="15"><path d="M5 17H3a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v9a2 2 0 01-2 2h-3"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>`,
  news:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M4 22h16a2 2 0 002-2V4a2 2 0 00-2-2H8a2 2 0 00-2 2v16a2 2 0 01-2 2zm0 0a2 2 0 01-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M18 14h-8M15 18h-5M10 6h8v4h-8V6z"/></svg>`,
  calc:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="8" y1="10" x2="10" y2="10"/><line x1="12" y1="10" x2="14" y2="10"/><line x1="16" y1="10" x2="16" y2="14"/><line x1="8" y1="14" x2="10" y2="14"/><line x1="12" y1="14" x2="14" y2="14"/><line x1="8" y1="18" x2="10" y2="18"/><line x1="12" y1="18" x2="14" y2="18"/></svg>`,
  sell:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>`,
  trending:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>`,
  plus:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="22" height="22"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>`,
  filter:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="15" height="15"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>`,
  shield:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`,
};

/* ── LOGO ── */
const LOGO_SVG=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" fill="none">
  <!-- Outer oval border: gold top-left, green bottom-right -->
  <ellipse cx="100" cy="50" rx="94" ry="46" fill="white" stroke="url(#ovalGrad)" stroke-width="3.5"/>
  <!-- Inner oval thin ring -->
  <ellipse cx="100" cy="50" rx="87" ry="39" fill="none" stroke="url(#ovalGrad2)" stroke-width="1.2"/>
  <defs>
    <linearGradient id="ovalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#C09818"/>
      <stop offset="50%" stop-color="#C09818"/>
      <stop offset="50%" stop-color="#1A6B2A"/>
      <stop offset="100%" stop-color="#1A6B2A"/>
    </linearGradient>
    <linearGradient id="ovalGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#C09818" stop-opacity=".5"/>
      <stop offset="50%" stop-color="#C09818" stop-opacity=".5"/>
      <stop offset="50%" stop-color="#1A6B2A" stop-opacity=".5"/>
      <stop offset="100%" stop-color="#1A6B2A" stop-opacity=".5"/>
    </linearGradient>
  </defs>
  <!-- Car silhouette in gold -->
  <g transform="translate(100,46) scale(0.52)" fill="none">
    <!-- Car body -->
    <path d="M-62 8 L-52 -10 L-20 -18 L20 -18 L52 -10 L62 8 L62 16 L-62 16 Z" fill="#C09818" opacity=".95"/>
    <!-- Windshields -->
    <path d="M-18 -18 L-12 -32 L12 -32 L18 -18 Z" fill="#fff" opacity=".6"/>
    <path d="M20 -18 L24 -28 L42 -14 L52 -10 Z" fill="#fff" opacity=".4"/>
    <!-- Wheels -->
    <circle cx="-38" cy="18" r="10" fill="#C09818" stroke="#fff" stroke-width="1.5"/>
    <circle cx="-38" cy="18" r="4" fill="white" opacity=".6"/>
    <circle cx="38" cy="18" r="10" fill="#C09818" stroke="#fff" stroke-width="1.5"/>
    <circle cx="38" cy="18" r="4" fill="white" opacity=".6"/>
    <!-- Door line -->
    <line x1="-2" y1="-16" x2="-2" y2="8" stroke="#fff" stroke-width=".8" opacity=".5"/>
  </g>
  <!-- Brand name -->
  <text x="100" y="73" text-anchor="middle" font-family="Georgia, 'Times New Roman', serif" font-size="13" font-style="italic" font-weight="700" fill="#1A6B2A" letter-spacing=".5">Autoviindu</text>
  <!-- Tagline -->
  <text x="100" y="86" text-anchor="middle" font-family="Georgia, serif" font-size="6.5" font-style="italic" fill="#C09818" letter-spacing=".3">"Your trust, our commitment"</text>
</svg>`;
const LOGO_URI='/autoviindu/assets/logo.svg';

/* ── BRAND LOGOS ── */
const BLOGOS={
  Toyota:`<svg viewBox="0 0 72 36" width="62" height="30"><ellipse cx="36" cy="18" rx="32" ry="14" fill="none" stroke="#EB0A1E" stroke-width="2.5"/><ellipse cx="36" cy="18" rx="16" ry="13" fill="none" stroke="#EB0A1E" stroke-width="2.5"/><ellipse cx="36" cy="10" rx="20" ry="9" fill="none" stroke="#EB0A1E" stroke-width="2.5"/></svg>`,
  Honda:`<svg viewBox="0 0 60 36" width="56" height="36"><text x="30" y="28" text-anchor="middle" font-size="32" font-weight="900" font-family="Arial" fill="#E40521">H</text></svg>`,
  Hyundai:`<svg viewBox="0 0 60 36" width="56" height="36"><text x="30" y="30" text-anchor="middle" font-size="34" font-weight="900" font-family="Arial" font-style="italic" fill="#002C5F">H</text></svg>`,
  Kia:`<svg viewBox="0 0 60 36" width="56" height="36"><text x="30" y="28" text-anchor="middle" font-size="20" font-weight="900" font-family="Arial" letter-spacing="2" fill="#BB162B">KIA</text></svg>`,
  'Maruti Suzuki':`<svg viewBox="0 0 70 36" width="64" height="36"><text x="35" y="27" text-anchor="middle" font-size="13" font-weight="900" font-family="Arial" fill="#1351a5">SUZUKI</text></svg>`,
  BMW:`<svg viewBox="0 0 60 60" width="38" height="38"><circle cx="30" cy="30" r="26" fill="none" stroke="#1C69D4" stroke-width="3"/><path d="M30 4v26M4 30h26" stroke="#1C69D4" stroke-width="1.5"/><path d="M4 4a26 26 0 0126 0v26H4z" fill="#1C69D4" opacity=".15"/><path d="M30 30a26 26 0 010 26H4V30z" fill="#1C69D4" opacity=".15"/></svg>`,
  'Mercedes-Benz':`<svg viewBox="0 0 60 60" width="38" height="38"><circle cx="30" cy="30" r="26" fill="none" stroke="#222" stroke-width="2.5"/><path d="M30 6l22 37H8L30 6z" fill="none" stroke="#222" stroke-width="2"/></svg>`,
  Tesla:`<svg viewBox="0 0 60 36" width="60" height="36"><path d="M30 6C18 6 8 12 5 18c6-1.5 12-3 15-1.5L30 32l10-15.5C43 15 49 16.5 55 18 52 12 42 6 30 6z" fill="#CC0000"/></svg>`,
  BYD:`<svg viewBox="0 0 60 36" width="60" height="36"><rect x="4" y="7" width="52" height="22" rx="3" fill="#1B5DAA"/><text x="30" y="23" text-anchor="middle" font-size="14" font-weight="900" font-family="Arial" fill="white">BYD</text></svg>`,
  MG:`<svg viewBox="0 0 60 36" width="60" height="36"><rect x="4" y="4" width="52" height="28" rx="4" fill="#CC0000"/><text x="30" y="26" text-anchor="middle" font-size="18" font-weight="900" font-family="Arial" fill="white">MG</text></svg>`,
  Tata:`<svg viewBox="0 0 60 36" width="60" height="36"><text x="30" y="27" text-anchor="middle" font-size="18" font-weight="900" font-family="Arial" fill="#005DAA">TATA</text></svg>`,
  Audi:`<svg viewBox="0 0 80 36" width="80" height="36"><circle cx="14" cy="18" r="10" fill="none" stroke="#BB0A30" stroke-width="2.5"/><circle cx="28" cy="18" r="10" fill="none" stroke="#BB0A30" stroke-width="2.5"/><circle cx="42" cy="18" r="10" fill="none" stroke="#BB0A30" stroke-width="2.5"/><circle cx="56" cy="18" r="10" fill="none" stroke="#BB0A30" stroke-width="2.5"/></svg>`,
  Volkswagen:`<svg viewBox="0 0 60 60" width="38" height="38"><circle cx="30" cy="30" r="26" fill="none" stroke="#001E50" stroke-width="2.5"/><text x="30" y="36" text-anchor="middle" font-size="18" font-weight="900" font-family="Arial" fill="#001E50">VW</text></svg>`,
  Lexus:`<svg viewBox="0 0 70 36" width="70" height="36"><text x="35" y="27" text-anchor="middle" font-size="16" font-weight="900" font-family="Arial" letter-spacing="3" fill="#1A1A1A">LEXUS</text></svg>`,
  Nissan:`<svg viewBox="0 0 70 36" width="70" height="36"><text x="35" y="27" text-anchor="middle" font-size="14" font-weight="900" font-family="Arial" letter-spacing="1.5" fill="#C3002F">NISSAN</text></svg>`,
  Jeep:`<svg viewBox="0 0 60 36" width="60" height="36"><text x="30" y="27" text-anchor="middle" font-size="18" font-weight="900" font-family="Arial" letter-spacing="1" fill="#333">JEEP</text></svg>`,
};

/* ── BODY TYPE SVGS ── */
const BODY_SVGS={
  SUV:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="8" y="26" width="114" height="28" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M18 26L32 9h66l14 17" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="34" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="96" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="34" cy="54" r="4" fill="#F2FAF4"/><circle cx="96" cy="54" r="4" fill="#F2FAF4"/><rect x="36" y="11" width="20" height="12" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/><rect x="62" y="11" width="20" height="12" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/></svg>`,
  Sedan:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="6" y="32" width="118" height="22" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M16 32L36 13h58l20 19" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="32" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="98" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="32" cy="54" r="4" fill="#F2FAF4"/><circle cx="98" cy="54" r="4" fill="#F2FAF4"/><rect x="40" y="16" width="17" height="12" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/><rect x="64" y="16" width="17" height="12" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/></svg>`,
  Hatchback:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="10" y="30" width="110" height="24" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M22 30L38 12h54L112 30" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="34" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="96" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="34" cy="54" r="4" fill="#F2FAF4"/><circle cx="96" cy="54" r="4" fill="#F2FAF4"/><rect x="42" y="15" width="15" height="11" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/><rect x="63" y="15" width="15" height="11" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/></svg>`,
  MPV:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="6" y="22" width="118" height="32" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M16 22L20 8h90l4 14" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="32" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="98" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="32" cy="54" r="4" fill="#F2FAF4"/><circle cx="98" cy="54" r="4" fill="#F2FAF4"/><rect x="22" y="9" width="16" height="10" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/><rect x="44" y="9" width="16" height="10" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/><rect x="66" y="9" width="16" height="10" rx="2" fill="rgba(26,107,42,.1)" stroke="#1A6B2A"/></svg>`,
  Coupe:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="8" y="33" width="114" height="21" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M20 33Q38 10 66 9Q94 9 110 33" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="32" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="98" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="32" cy="54" r="4" fill="#F2FAF4"/><circle cx="98" cy="54" r="4" fill="#F2FAF4"/></svg>`,
  Electric:`<svg viewBox="0 0 130 68" fill="none" width="100" height="54"><rect x="8" y="26" width="114" height="28" rx="6" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><path d="M18 26L32 9h66l14 17" fill="#F2FAF4" stroke="#1A6B2A" stroke-width="1.8"/><circle cx="34" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="96" cy="54" r="11" fill="#fff" stroke="#1A6B2A" stroke-width="2.2"/><circle cx="34" cy="54" r="4" fill="#F2FAF4"/><circle cx="96" cy="54" r="4" fill="#F2FAF4"/><polygon points="68,10 58,27 67,27 64,40 78,23 69,23" fill="#1A6B2A" opacity=".85"/></svg>`,
};

/* ── DATA ── */
const BRANDS=[
  {n:'Toyota',c:48},{n:'Honda',c:32},{n:'Hyundai',c:41},{n:'Kia',c:37},
  {n:'Maruti Suzuki',c:22},{n:'BMW',c:18},{n:'Mercedes-Benz',c:14},{n:'Tesla',c:9},
  {n:'BYD',c:12},{n:'MG',c:16},{n:'Tata',c:8},{n:'Audi',c:11},
  {n:'Volkswagen',c:7},{n:'Lexus',c:6},{n:'Nissan',c:19},{n:'Jeep',c:13},
];

const CARS={
  "byd-atto-3":{id:"byd-atto-3",brand:"BYD",name:"Atto 3",year:2024,type:"Electric",body:"SUV",badge:"ev",img:"https://images.unsplash.com/photo-1617469767053-d3b523a0b982?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#e8f5ec,#c8e6c9)",price:"Rs. 45,00,000",priceD:"Rs. 45 Lakh*",priceN:4500000,emi:"19,234",rating:4.3,reviews:156,expert:8.4,engine:"Electric Motor (BEV)",trans:"Single-speed Auto",power:"201 hp",mileage:"420 km range",torque:"310 Nm",seats:5,fuel:"Electric",tags:["EV of Year 2024","Award Winner"],tagline:"The smartest electric SUV in Nepal",overview:"The BYD Atto 3 is a feature-packed electric SUV combining impressive range, smart technology and a spacious cabin. Built on BYD's e-Platform 3.0, it delivers an exhilarating and eco-friendly drive perfect for Nepal's evolving roads.",specs:{"Engine Type":"Electric Motor (BEV)","Motor Power":"201 hp (150 kW)","Torque":"310 Nm","Range (WLTP)":"420 km","Battery Capacity":"60.5 kWh LFP","AC Charging":"11 kW","DC Fast Charging":"80 kW","0–100 km/h":"7.3 sec","Top Speed":"160 km/h","Drive":"FWD","Seating":"5","Boot Space":"440 L","Wheelbase":"2,720 mm","Length":"4,455 mm","Kerb Weight":"1,750 kg"},features:["10.1\" Rotating Touchscreen","Heated & Ventilated Seats","360° Surround Camera","ADAS Level 2","Wireless Charging","BYD DiPilot Assist","LED Adaptive Headlights","Panoramic Sunroof","OTA Software Updates","8-Speaker Sound System"],pros:["Excellent 420 km real-world range","Spacious & feature-rich cabin","Competitive pricing vs rivals","80 kW DC fast charging","6-year battery warranty"],cons:["No AWD option in Nepal","Limited BYD service centres","AC charging modest vs rivals","Infotainment can lag at times"]},
  "hyundai-ioniq5":{id:"hyundai-ioniq5",brand:"Hyundai",name:"IONIQ 5",year:2024,type:"Electric",body:"SUV",badge:"ev",img:"https://images.unsplash.com/photo-1619767886558-efdc259b6e09?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#e3f2fd,#bbdefb)",price:"Rs. 58,00,000",priceD:"Rs. 58 Lakh*",priceN:5800000,emi:"24,765",rating:4.6,reviews:89,expert:9.1,engine:"Dual Motor EV (AWD)",trans:"Single-speed Auto",power:"306 hp",mileage:"481 km range",torque:"605 Nm",seats:5,fuel:"Electric",tags:["Best EV 2024","Award Winner"],tagline:"Ultra-fast 800V charging. Iconic design.",overview:"The Hyundai IONIQ 5 is a groundbreaking EV crossover with iconic retro-futuristic design and 800V ultra-rapid charging — the fastest in its class. Charges 10–80% in just 18 minutes with the right charger.",specs:{"Engine":"Dual Motor Electric (AWD)","Power":"306 hp (225 kW)","Torque":"605 Nm","Range (WLTP)":"481 km","Battery":"72.6 kWh","AC Charging":"11 kW","DC Fast Charging":"220 kW (800V)","0–100 km/h":"5.1 sec","Top Speed":"185 km/h","Drive":"AWD","Seating":"5","Boot Space":"527 L","Wheelbase":"3,000 mm","Length":"4,635 mm","Kerb Weight":"2,100 kg"},features:["12.3\" Dual Curved Screens","V2L 3.6 kW","Flat-Floor Relaxation Seats","HDA2 Highway Driving Assist","AR HUD","Bi-directional Charging","Digital Side Mirrors","Solar Roof Panel","OTA Updates","Meridian Premium Audio"],pros:["800V ultra-fast charging (best in class)","Outstanding 481 km range","Flat-floor spacious interior","Premium build quality","V2L power export feature"],cons:["Premium price point","Heavier than class rivals","Limited Hyundai EV service","No wireless Apple CarPlay"]},
  "toyota-prius":{id:"toyota-prius",brand:"Toyota",name:"Prius",year:2024,type:"Hybrid",body:"Sedan",badge:"hybrid",img:"https://images.unsplash.com/photo-1559416523-140ddc3d238c?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#e8eaf6,#c5cae9)",price:"Rs. 38,00,000",priceD:"Rs. 38 Lakh*",priceN:3800000,emi:"16,234",rating:4.4,reviews:212,expert:8.7,engine:"1.8L Petrol + Electric HEV",trans:"e-CVT",power:"121 hp",mileage:"26 km/l",torque:"142 Nm",seats:5,fuel:"Hybrid",tags:["Best Mileage 2024"],tagline:"The hybrid that started it all. Reinvented.",overview:"The all-new 5th-generation Toyota Prius sets a new standard with a dramatic redesign and class-leading 26 km/l efficiency. Nepal's most trusted hybrid sedan with legendary Toyota reliability.",specs:{"Engine":"1.8L Atkinson + Electric (HEV)","Combined Power":"121 hp","Torque":"142 Nm","Fuel Efficiency":"26 km/l","Fuel Tank":"43 L","Battery":"Li-ion Hybrid","Transmission":"e-CVT","0–100 km/h":"10.6 sec","Top Speed":"180 km/h","Drive":"FWD","Seating":"5","Boot Space":"401 L","Wheelbase":"2,750 mm","Length":"4,600 mm","Kerb Weight":"1,420 kg"},features:["12.3\" Digital Cluster","Toyota Safety Sense 3.0","Digital Smart Key","Head-Up Display","Wireless CarPlay & Android Auto","JBL Premium 8-Speaker","LED Adaptive Headlights","Panoramic View Monitor","Smart Parking Assist","Ambient Interior Lighting"],pros:["Nepal's best fuel efficiency at 26 km/l","Legendary Toyota reliability","Very low running cost","Roomy sedan cabin","Comprehensive TSS 3.0 safety"],cons:["Not driver-focused ride","CVT hesitant on overtakes","Boot space reduced vs previous gen","Interior quality modest for price"]},
  "honda-city":{id:"honda-city",brand:"Honda",name:"City",year:2024,type:"Petrol",body:"Sedan",badge:"pop",img:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#fce4ec,#f8bbd0)",price:"Rs. 22,00,000",priceD:"Rs. 22 Lakh*",priceN:2200000,emi:"9,396",rating:4.2,reviews:445,expert:8.1,engine:"1.5L i-VTEC DOHC",trans:"CVT / 6MT",power:"119 hp",mileage:"18.4 km/l",torque:"145 Nm",seats:5,fuel:"Petrol",tags:["Best Seller","Popular"],tagline:"Nepal's best-loved sedan. Now bolder.",overview:"The Honda City continues as the benchmark mid-size sedan in Nepal with class-leading VTEC engine, premium cabin, and Honda SENSING safety suite. Unmatched resale value.",specs:{"Engine":"1.5L i-VTEC DOHC Petrol","Power":"119 hp @ 6,600 rpm","Torque":"145 Nm @ 4,300 rpm","Fuel Efficiency":"18.4 km/l","Fuel Tank":"40 L","Transmission":"CVT / 6-Speed MT","0–100 km/h":"9.7 sec","Top Speed":"195 km/h","Drive":"FWD","Seating":"5","Boot Space":"506 L","Wheelbase":"2,600 mm","Length":"4,553 mm","Kerb Weight":"1,153 kg"},features:["8\" Honda CONNECT","Honda SENSING Suite","LaneWatch Camera","Wireless CarPlay","Full LED Headlights","Electric Sunroof","6 Airbags","ECON Mode","Remote Start","Dual-zone Auto A/C"],pros:["Class-best 506L boot","Refined VTEC engine","Excellent resale value","Premium cabin","Best Honda service network"],cons:["Pricier than rivals","CVT only on top trim","Rear legroom average","No diesel option"]},
  "kia-seltos":{id:"kia-seltos",brand:"Kia",name:"Seltos",year:2024,type:"Diesel",body:"SUV",badge:"pop",img:"https://images.unsplash.com/photo-1590362891991-f776e747a588?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#e8f5e9,#c8e6c9)",price:"Rs. 30,00,000",priceD:"Rs. 30 Lakh*",priceN:3000000,emi:"12,812",rating:4.3,reviews:678,expert:8.3,engine:"1.5L U2 CRDi Diesel",trans:"6AT / 6MT",power:"115 hp",mileage:"21.4 km/l",torque:"250 Nm",seats:5,fuel:"Diesel",tags:["#1 Selling SUV","Top Rated"],tagline:"Bold. Powerful. Unstoppable.",overview:"Nepal's top-selling compact SUV. The Kia Seltos 2024 facelift brings updated styling, improved tech, and enhanced safety to a proven platform loved across the country.",specs:{"Engine":"1.5L U2 CRDi Diesel","Power":"115 hp @ 4,000 rpm","Torque":"250 Nm @ 1,500–2,750 rpm","Fuel Efficiency":"21.4 km/l","Fuel Tank":"50 L","Transmission":"6-Speed AT / 6MT","0–100 km/h":"11.2 sec","Top Speed":"175 km/h","Drive":"FWD / AWD","Seating":"5","Boot Space":"433 L","Wheelbase":"2,610 mm","Length":"4,315 mm","Kerb Weight":"1,490 kg"},features:["10.25\" Panoramic Touchscreen","BOSE 8-Speaker","Ventilated Front Seats","Blind Spot Monitor","Rear Cross Traffic Alert","360° Surround View","Panoramic Sunroof","Wireless Charging","8 Airbags","5 Drive Modes"],pros:["Best-in-class diesel torque (250 Nm)","Feature-rich for price","Strong ground clearance","BOSE audio","Widest service network"],cons:["Diesel NVH at low speeds","Slightly cramped rear","Plastic-heavy base interior","Highway fuel economy below claimed"]},
  "maruti-swift":{id:"maruti-swift",brand:"Maruti Suzuki",name:"Swift",year:2024,type:"Petrol",body:"Hatchback",badge:"pop",img:"https://images.unsplash.com/photo-1541899481282-d53bffe3c35d?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#fff3e0,#ffe0b2)",price:"Rs. 12,00,000",priceD:"Rs. 12 Lakh*",priceN:1200000,emi:"5,126",rating:4.1,reviews:1204,expert:7.8,engine:"1.2L Z-Series Mild Hybrid",trans:"5MT / AMT",power:"82 hp",mileage:"24.8 km/l",torque:"112 Nm",seats:5,fuel:"Petrol",tags:["Most Affordable","Value King"],tagline:"The people's hatchback. Forever young.",overview:"The all-new Maruti Suzuki Swift reimagined with sportier design, new Z-Series mild-hybrid engine, and improved safety. Nepal's most affordable and reliable first car choice.",specs:{"Engine":"1.2L Z-Series Petrol Mild Hybrid","Power":"82 hp @ 6,000 rpm","Torque":"112 Nm @ 4,400 rpm","Fuel Efficiency":"24.8 km/l","Fuel Tank":"37 L","Transmission":"5MT / AMT","0–100 km/h":"12.1 sec","Top Speed":"165 km/h","Drive":"FWD","Seating":"5","Boot Space":"265 L","Wheelbase":"2,450 mm","Length":"3,860 mm","Kerb Weight":"865 kg"},features:["9\" SmartPlay Pro+","6 Airbags","ESP + Hill Hold","360° Backup Camera","Wireless CarPlay","LED Projector Headlights","Rear Disc Brakes","Mild Hybrid Regen","Cruise Control","Push-button Start"],pros:["Most affordable price","Best fuel efficiency (24.8 km/l)","Very low maintenance","Highly reliable","Fun peppy city character"],cons:["Small 265L boot","Basic interior on lower trims","No diesel/EV option","Limited highway refinement"]},
  "bmw-3series":{id:"bmw-3series",brand:"BMW",name:"3 Series",year:2024,type:"Petrol",body:"Sedan",badge:"new",img:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#e3f2fd,#90caf9)",price:"Rs. 85,00,000",priceD:"Rs. 85 Lakh*",priceN:8500000,emi:"36,296",rating:4.7,reviews:67,expert:9.3,engine:"2.0L TwinPower Turbo",trans:"8-Speed Steptronic",power:"258 hp",mileage:"15.2 km/l",torque:"400 Nm",seats:5,fuel:"Petrol",tags:["Premium Pick","Editor's Choice"],tagline:"The ultimate driving machine. Reimagined.",overview:"The BMW 3 Series remains the benchmark premium sedan, blending thrilling RWD dynamics with sophisticated technology and impeccable build quality. Nothing comes close.",specs:{"Engine":"2.0L B48 TwinPower Turbo","Power":"258 hp @ 5,000 rpm","Torque":"400 Nm @ 1,550 rpm","Fuel Efficiency":"15.2 km/l","Fuel Tank":"59 L","Transmission":"8-Speed Steptronic","0–100 km/h":"5.8 sec","Top Speed":"250 km/h (limited)","Drive":"RWD","Seating":"5","Boot Space":"480 L","Wheelbase":"2,851 mm","Length":"4,709 mm","Kerb Weight":"1,555 kg"},features:["14.9\" BMW Curved Display","BMW iDrive 8.5","Harman Kardon","Driving Assistant Pro","Adaptive LED M Sport","Head-Up Display","Parking Assistant Plus","Live Cockpit Pro","Active Cruise Control","40-colour Ambient Lighting"],pros:["Benchmark RWD driving dynamics","Premium interior","Cutting-edge iDrive 8.5","Strong BMW prestige value","Powerful refined engine"],cons:["Very high price","Expensive Nepal servicing","Many features are costly options","Rear headroom limited","Firm ride on rough roads"]},
  "tesla-model3":{id:"tesla-model3",brand:"Tesla",name:"Model 3",year:2024,type:"Electric",body:"Sedan",badge:"ev",img:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=600&h=380&fit=crop",fb:"linear-gradient(135deg,#fce4ec,#f48fb1)",price:"Rs. 72,00,000",priceD:"Rs. 72 Lakh*",priceN:7200000,emi:"30,741",rating:4.5,reviews:134,expert:9.0,engine:"Dual Motor EV (AWD)",trans:"Single-speed Auto",power:"346 hp",mileage:"629 km range",torque:"493 Nm",seats:5,fuel:"Electric",tags:["World's Best EV","Editor's Choice"],tagline:"The world's best-selling electric car.",overview:"The Tesla Model 3 Highland — completely refreshed with longer range, redesigned premium interior, and Tesla's unmatched OTA update system. Nothing in its segment competes on range.",specs:{"Engine":"Dual Motor PM Sync (AWD)","Power":"346 hp (258 kW)","Torque":"493 Nm","Range (WLTP)":"629 km","Battery":"75 kWh","AC Charging":"11 kW","DC Fast Charging":"250 kW peak","0–100 km/h":"4.4 sec","Top Speed":"225 km/h","Drive":"AWD","Seating":"5","Boot Space":"594 L (frunk+rear)","Wheelbase":"2,875 mm","Length":"4,694 mm","Kerb Weight":"1,828 kg"},features:["15.4\" Glass Touchscreen","Autopilot + FSD Option","OTA Software Updates","17-Speaker Audio","Acoustic Glass","8\" Rear Touchscreen","Sentry Mode CCTV","Dog & Camp Mode","Full Tesla App Control","Wireless Gaming"],pros:["World's longest EV range (629 km)","Fastest OTA updates","Stunning minimalist interior","Semi-autonomous Autopilot","Incredible 4.4s 0–100"],cons:["No Supercharger network in Nepal","Very high price","Minimal physical controls","Limited local service","Build quality inconsistencies"]},
};

const USED=[
  {id:'u1',brand:'Toyota',name:'Fortuner',year:2021,km:'38,450',type:'Diesel',body:'SUV',price:'Rs. 68,00,000',priceN:6800000,rating:4.4,owners:1,trans:'Automatic',tags:['1 Owner','Service History'],img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#e8f5e9,#c8e6c9)'},
  {id:'u2',brand:'Honda',name:'Civic',year:2020,km:'44,200',type:'Petrol',body:'Sedan',price:'Rs. 28,00,000',priceN:2800000,rating:4.2,owners:1,trans:'CVT',tags:['1 Owner','Well Maintained'],img:'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#fce4ec,#f8bbd0)'},
  {id:'u3',brand:'Hyundai',name:'Tucson',year:2022,km:'22,100',type:'Petrol',body:'SUV',price:'Rs. 42,00,000',priceN:4200000,rating:4.5,owners:1,trans:'Automatic',tags:['Low KM','Warranty Valid'],img:'https://images.unsplash.com/photo-1590362891991-f776e747a588?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#e3f2fd,#bbdefb)'},
  {id:'u4',brand:'Maruti',name:'Vitara Brezza',year:2019,km:'62,000',type:'Petrol',body:'SUV',price:'Rs. 14,00,000',priceN:1400000,rating:3.9,owners:2,trans:'Manual',tags:['Best Value'],img:'https://images.unsplash.com/photo-1541899481282-d53bffe3c35d?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#fff3e0,#ffe0b2)'},
  {id:'u5',brand:'Toyota',name:'Prius',year:2020,km:'41,300',type:'Hybrid',body:'Sedan',price:'Rs. 30,00,000',priceN:3000000,rating:4.3,owners:1,trans:'e-CVT',tags:['1 Owner','Fuel Saver'],img:'https://images.unsplash.com/photo-1559416523-140ddc3d238c?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#e8eaf6,#c5cae9)'},
  {id:'u6',brand:'BMW',name:'X3',year:2021,km:'29,400',type:'Petrol',body:'SUV',price:'Rs. 72,00,000',priceN:7200000,rating:4.6,owners:1,trans:'Automatic',tags:['Premium','Fully Loaded'],img:'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#e3f2fd,#90caf9)'},
  {id:'u7',brand:'Kia',name:'Sportage',year:2022,km:'18,200',type:'Diesel',body:'SUV',price:'Rs. 36,00,000',priceN:3600000,rating:4.4,owners:1,trans:'Automatic',tags:['Low KM','1 Owner'],img:'https://images.unsplash.com/photo-1590362891991-f776e747a588?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#e8f5e9,#a5d6a7)'},
  {id:'u8',brand:'Honda',name:'HR-V',year:2019,km:'55,100',type:'Petrol',body:'SUV',price:'Rs. 19,00,000',priceN:1900000,rating:4.0,owners:2,trans:'CVT',tags:['Good Condition'],img:'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=500&h=300&fit=crop',fb:'linear-gradient(135deg,#fce4ec,#ef9a9a)'},
];

const NEWS=[
  {id:'n1',tag:'EV Comparison',title:'BYD Atto 3 vs Hyundai IONIQ 5: Best EV for Nepal in 2025?',date:'Feb 18, 2025',read:'6 min read',img:'https://images.unsplash.com/photo-1617469767053-d3b523a0b982?w=480&h=280&fit=crop'},
  {id:'n2',tag:'Long-Term Review',title:'Toyota Prius 2024 After 30,000 km on Nepal Roads',date:'Feb 10, 2025',read:'5 min read',img:'https://images.unsplash.com/photo-1559416523-140ddc3d238c?w=480&h=280&fit=crop'},
  {id:'n3',tag:'Buying Guide',title:"First-Time Car Buyer's Complete Guide for Nepal 2025",date:'Jan 28, 2025',read:'8 min read',img:'https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=480&h=280&fit=crop'},
  {id:'n4',tag:'Market News',title:'Nepal EV Import Tax Cut: How Much You Save in 2025',date:'Jan 12, 2025',read:'3 min read',img:'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=480&h=280&fit=crop'},
  {id:'n5',tag:'Comparison',title:'Kia Seltos vs Hyundai Creta 2025: Complete SUV Shootout',date:'Jan 5, 2025',read:'7 min read',img:'https://images.unsplash.com/photo-1590362891991-f776e747a588?w=480&h=280&fit=crop'},
  {id:'n6',tag:'Review',title:'Honda City 2024 Review: Still King of Nepal Sedans?',date:'Dec 28, 2024',read:'5 min read',img:'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=480&h=280&fit=crop'},
];

/* ── HELPERS ── */
function img(src,fb,cls=''){
  return `<img src="${src}" class="${cls}" alt="" loading="lazy" decoding="async" onerror="this.style.display='none';this.closest('[data-fb]')&&(this.parentElement.style.background=this.closest('[data-fb]').dataset.fb)">`;
}
function ratBadge(r){
  return `<span class="rating-badge">${IC.star} ${r.toFixed(1)}</span>`;
}
function carBadge(car){
  const lbl=car.tags&&car.tags[0]||'';
  if(!lbl)return'';
  const cls=car.badge==='ev'?'cbadge-ev':car.badge==='hybrid'?'cbadge-hybrid':car.badge==='new'?'cbadge-new':'cbadge-pop';
  return `<span class="cbadge ${cls}">${lbl}</span>`;
}
function specChips(car){
  return`<span class="spec-chip">${IC.fuel}${car.fuel||car.type}</span><span class="spec-chip">${IC.gear}${car.trans}</span><span class="spec-chip">${IC.speed}${car.mileage}</span>`;
}
function carCard(car,onclick){
  return`<div class="car-card" onclick="${onclick}">
    <div class="car-img-wrap" data-fb="${car.fb}">
      ${img(car.img,car.fb,'car-img')}
      <div class="car-badge-wrap">${carBadge(car)}</div>
      <button class="car-wish-btn" onclick="event.stopPropagation();wishToggle(this)" aria-label="Save">${IC.heart}</button>
      <div class="car-score">${IC.star}${car.expert}/10</div>
    </div>
    <div class="car-body">
      <div class="car-meta-row">
        ${ratBadge(car.rating)}
        <span class="car-reviews">${car.reviews} reviews</span>
        ${car.tags&&car.tags[1]?`<span class="car-extra-tag">${car.tags[1]}</span>`:''}
      </div>
      <div class="car-title">${car.brand} ${car.name}</div>
      <div class="car-subtitle">${car.year} &middot; ${car.body}</div>
      <div class="car-specs-row">${specChips(car)}</div>
      <div class="car-price-block">
        <div class="car-price">${car.priceD||car.price}</div>
        <div class="car-emi">EMI from <strong>Rs. ${car.emi}/mo</strong></div>
        <div class="car-actions">
          <button class="btn-getprice" onclick="event.stopPropagation();alert('Get best price for ${car.brand} ${car.name}')">Get Price</button>
          <button class="btn-viewdetail" onclick="event.stopPropagation();navigate('detail?car=${car.id}')">View Details</button>
        </div>
      </div>
    </div>
  </div>`;
}
function wishToggle(btn){
  btn.classList.toggle('on');
  btn.innerHTML=btn.classList.contains('on')?IC.heartFill:IC.heart;
}

/* ── MOBILE NAV ── */
function buildMobLinks(){
  document.getElementById('mob-nav-links').innerHTML=`
    <div class="mob-nav-item" onclick="navigate('cars');forceCloseMob();">${IC.car} New Cars</div>
    <div class="mob-nav-item" onclick="navigate('used');forceCloseMob();">${IC.sell} Used Cars</div>
    <div class="mob-nav-item" onclick="navigate('cars?f=electric');forceCloseMob();">${IC.bolt} Electric <span style="background:var(--brand);color:#fff;font-size:9px;font-weight:800;padding:2px 7px;border-radius:99px;margin-left:4px;">HOT</span></div>
    <div class="mob-nav-item" onclick="navigate('compare');forceCloseMob();">${IC.compare} Compare Cars</div>
    <div class="mob-nav-item" onclick="navigate('news');forceCloseMob();">${IC.news} Reviews & News</div>
    <div class="mob-nav-item" onclick="navigate('cars?f=hybrid');forceCloseMob();">${IC.trending} Hybrid Cars</div>`;
}
function toggleMob(){
  const d=document.getElementById('mob-drawer');
  const b=document.getElementById('hdr-burger-btn');
  const o=d.classList.contains('open');
  d.classList.toggle('open');b.classList.toggle('open');
}
function closeMobDrawer(e){
  if(e.target===document.getElementById('mob-drawer')){forceCloseMob();}
}
function forceCloseMob(){
  document.getElementById('mob-drawer').classList.remove('open');
  document.getElementById('hdr-burger-btn')&&document.getElementById('hdr-burger-btn').classList.remove('open');
}

/* ── HEADER ── */
function buildHeader(page){
  document.getElementById('site-header').innerHTML=`
  <div class="topbar">
    <div class="wrap">
      <div class="tb-group">
        <span class="tb-item">${IC.phone} +977-9701076240</span>
        <span class="tb-item hide-sm">${IC.clock} Mon–Sat 9am–6pm</span>
        <span class="tb-item hide-sm">${IC.pin} Kathmandu, Nepal</span>
      </div>
      <div class="tb-group">
        <span class="tb-sep"></span>
        <a class="tb-item">Dealer Login</a>
        <a class="tb-item" onclick="alert('Sell Your Car — +977-9701076240')">Sell Your Car</a>
      </div>
    </div>
  </div>
  <header class="hdr">
   <div class="wrap hdr-inner">
  <a class="logo" onclick="navigate('home')">
    <img src="/autoviindu/assets/logo.svg" alt="AutoViindu logo" class="site-logo">
  </a>
      <div class="hdr-srch">
        <span class="hdr-srch-ico">${IC.search}</span>
        <input placeholder="Search brand, model, or type…" onkeydown="if(event.key==='Enter')navigate('cars')">
        <button class="hdr-srch-btn" onclick="navigate('cars')">Search</button>
      </div>
      <nav class="hdr-nav">
        <a class="hdr-link ${page==='cars'?'act':''}" onclick="navigate('cars')">${IC.car} New Cars</a>
        <a class="hdr-link ${page==='used'?'act':''}" onclick="navigate('used')">${IC.sell} Used Cars</a>
        <a class="hdr-link ${page==='compare'?'act':''}" onclick="navigate('compare')">${IC.compare} Compare</a>
        <a class="hdr-link ${page==='news'?'act':''}" onclick="navigate('news')">${IC.news} Reviews</a>
        <button class="hdr-btn-primary" onclick="alert('Login coming soon!')">${IC.user} Login</button>
      </nav>
      <button class="hdr-burger" id="hdr-burger-btn" onclick="toggleMob()" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>
  <div class="subnav">
    <div class="wrap">
      <a class="snav ${page==='home'?'act':''}" onclick="navigate('home')">Home</a>
      <a class="snav ${page==='cars'?'act':''}" onclick="navigate('cars')">${IC.car} New Cars</a>
      <a class="snav ${page==='used'?'act':''}" onclick="navigate('used')">${IC.sell} Used Cars</a>
      <a class="snav" onclick="navigate('cars?f=electric')">${IC.bolt} Electric <span class="hot">HOT</span></a>
      <a class="snav ${page==='compare'?'act':''}" onclick="navigate('compare')">${IC.compare} Compare</a>
      <a class="snav ${page==='news'?'act':''}" onclick="navigate('news')">${IC.news} Reviews</a>
      <a class="snav" onclick="navigate('cars?f=hybrid')">${IC.trending} Hybrid</a>
      <a class="snav">${IC.calc} Finance & EMI</a>
    </div>
  </div>`;
  buildMobLinks();
}

/* ── FOOTER ── */
function buildFooter(){
  document.getElementById('site-footer').innerHTML=`
  <footer>
    <div class="wrap">
      <div class="footer-grid">
        <div class="footer-brand">
          <a onclick="navigate('home')" style="display:inline-flex;align-items:center;gap:10px;cursor:pointer;">
            <img src="${LOGO_URI}" alt="AutoViindu" width="110" height="56" style="border-radius:0;">
          </a>
          <p>Nepal's most trusted platform for buying, selling and comparing vehicles. Your trust, our commitment since 2020.</p>
          <div class="social-row">
            ${['f','in','tw','yt'].map(s=>`<div class="soc">
              ${s==='f'?`<svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>`:
                s==='in'?`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><rect x="2" y="2" width="20" height="20" rx="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>`:
                s==='tw'?`<svg viewBox="0 0 24 24" fill="currentColor" width="13" height="13"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 01-1.93.07 4.28 4.28 0 004 2.98 8.52 8.52 0 01-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>`:
                `<svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M22.54 6.42a2.78 2.78 0 00-1.95-1.96C18.88 4 12 4 12 4s-6.88 0-8.59.46a2.78 2.78 0 00-1.95 1.96A29 29 0 001 12a29 29 0 00.46 5.58A2.78 2.78 0 003.41 19.6C5.12 20 12 20 12 20s6.88 0 8.59-.46a2.78 2.78 0 001.95-1.95A29 29 0 0023 12a29 29 0 00-.46-5.58z"/><polygon points="9.75 15.02 15.5 12 9.75 8.98 9.75 15.02" fill="white"/></svg>`}
            </div>`).join('')}
          </div>
        </div>
        <div class="fc"><h4>Navigate</h4><ul>
          <li><a onclick="navigate('home')">Home</a></li>
          <li><a onclick="navigate('cars')">New Cars</a></li>
          <li><a onclick="navigate('used')">Used Cars</a></li>
          <li><a onclick="navigate('compare')">Compare Cars</a></li>
          <li><a onclick="navigate('news')">Reviews & News</a></li>
        </ul></div>
        <div class="fc"><h4>Services</h4><ul>
          <li><a>Car Valuation</a></li>
          <li><a>Finance & EMI</a></li>
          <li><a>Car Insurance</a></li>
          <li><a>Book Test Drive</a></li>
          <li><a>Sell Your Car</a></li>
        </ul></div>
        <div class="fc"><h4>Contact</h4><ul>
          <li><a href="tel:+9779701076240">+977-9701076240</a></li>
          <li><a href="mailto:info@autoviindu.com">info@autoviindu.com</a></li>
          <li><a>Newroad, Kathmandu</a></li>
          <li><a>Mon–Sat: 9am – 6pm</a></li>
        </ul></div>
      </div>
      <div class="footer-bot">
        <span>&copy; 2025 AutoViindu Pvt. Ltd. All rights reserved.</span>
        <span>Made with &hearts; in Nepal &nbsp;&bull;&nbsp; Kathmandu</span>
      </div>
    </div>
  </footer>`;
}

/* ── ROUTER ── */
function navigate(page){
  window.scrollTo({top:0,behavior:'smooth'});
  forceCloseMob();
  if(page.startsWith('detail'))renderDetail(new URLSearchParams('?'+page.split('?')[1]).get('car'));
  else if(page==='cars'||page.startsWith('cars?'))renderCars(page.includes('?f=')?page.split('?f=')[1]:null);
  else if(page==='used')renderUsed();
  else if(page==='compare')renderCompare();
  else if(page==='news')renderNews();
  else renderHome();
  setTimeout(initScrollAnim,80);
}

/* ══ HOME ══ */
function renderHome(){
  document.title='AutoViindu – Find Your Perfect Car in Nepal';
  buildHeader('home');
  const cars=Object.values(CARS);
  document.getElementById('app').innerHTML=`

  <!-- HERO -->
  <section class="hero">
    <div class="hero-mesh"></div>
    <div class="hero-dots"></div>
    <div class="hero-fade"></div>
    <div class="wrap hero-inner">
      <!-- LEFT COPY -->
      <div style="animation:fadeUp .6s ease both;">
        <div class="hero-pill">
          <span class="hero-pill-dot"></span>
          Nepal's #1 Automotive Portal
        </div>
        <h1 class="hero-h1">
          Find Your<br>
          <span class="accent">Perfect Car</span><br>
          in Nepal
        </h1>
        <p class="hero-desc">Compare 500+ cars from 50+ brands. Expert reviews, live prices, and the smartest buying decisions — all in one place.</p>
        <div class="hero-btns">
          <a class="btn-hero-primary" onclick="navigate('cars')">${IC.search} Browse New Cars</a>
          <a class="btn-hero-ghost" onclick="navigate('used')">${IC.sell} Used Cars</a>
        </div>
        <div class="hero-stats">
          <div class="hstat"><div class="hstat-n">500<span class="brand">+</span></div><div class="hstat-l">Cars Listed</div></div>
          <div class="hstat"><div class="hstat-n">50<span class="brand">+</span></div><div class="hstat-l">Top Brands</div></div>
          <div class="hstat"><div class="hstat-n">10K<span class="brand">+</span></div><div class="hstat-l">Happy Buyers</div></div>
          <div class="hstat"><div class="hstat-n">100<span class="brand">+</span></div><div class="hstat-l">Dealers</div></div>
        </div>
      </div>
      <!-- RIGHT CARD SIDEBAR -->
      <div class="hero-sidebar" style="animation:fadeUp .7s .12s ease both;">
        <div class="hero-card-label">Trending Right Now</div>
        ${cars.slice(0,4).map(c=>`
        <div class="hcard" onclick="navigate('detail?car=${c.id}')">
          <div class="hcard-thumb" data-fb="${c.fb}"><img src="${c.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy" onerror="this.parentElement.style.background='${c.fb}'"></div>
          <div class="hcard-info">
            <div class="hcard-name">${c.brand} ${c.name}</div>
            <div class="hcard-sub">${c.type} · ${c.body}</div>
          </div>
          <div>
            <div class="hcard-price">${c.priceD}</div>
            <div class="hcard-rating">${IC.star.replace('width="11"','width="9"').replace('height="11"','height="9"')} ${c.rating}</div>
          </div>
        </div>`).join('')}
        <div class="hcard-viewall" onclick="navigate('cars')">View all 500+ cars ${IC.chevR}</div>
      </div>
    </div>
  </section>

  <!-- SEARCH PANEL -->
  <div class="wrap sp-wrap" style="margin:-52px 0 0;position:relative;z-index:20;">
    <div class="sp-box">
      <div class="sp-tabs">
        <button class="sp-tab act" onclick="setTab(this)">${IC.car} New Cars</button>
        <button class="sp-tab" onclick="setTab(this)">${IC.sell} Used Cars</button>
        <button class="sp-tab" onclick="setTab(this)">${IC.bolt} Electric</button>
        <button class="sp-tab" onclick="setTab(this)">${IC.trending} Hybrid</button>
      </div>
      <div class="sp-body">
        <div class="sp-row">
          <div class="sp-field"><label>Brand</label>
            <select class="sp-sel"><option>All Brands</option>${BRANDS.map(b=>`<option>${b.n}</option>`).join('')}</select>
          </div>
          <div class="sp-field"><label>Budget</label>
            <select class="sp-sel"><option>Any Budget</option><option>Under Rs. 20L</option><option>Rs. 20–40L</option><option>Rs. 40–60L</option><option>Rs. 60L+</option></select>
          </div>
          <div class="sp-field"><label>Fuel Type</label>
            <select class="sp-sel"><option>All Types</option><option>Petrol</option><option>Diesel</option><option>Electric</option><option>Hybrid</option></select>
          </div>
          <div class="sp-field"><label>Body Type</label>
            <select class="sp-sel"><option>All Styles</option><option>SUV</option><option>Sedan</option><option>Hatchback</option><option>MPV</option></select>
          </div>
          <button class="sp-btn-search" onclick="navigate('cars')">${IC.search} Search Cars</button>
        </div>
      </div>
      <div class="sp-footer">
        <span class="sp-footer-label">Popular searches:</span>
        ${['Toyota Prius','Honda City','Kia Seltos','BYD Atto 3','IONIQ 5','EV under 50L'].map(t=>`<span class="sp-chip" onclick="navigate('cars')">${t}</span>`).join('')}
      </div>
    </div>
  </div>

  <!-- BROWSE BY BRAND -->
  <section class="sec">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Explore</div>
          <div class="sec-title">Browse by <span class="dim">Brand</span></div>
          <div class="sec-sub">50+ manufacturers available in Nepal</div>
        </div>
        <a class="sec-viewall" onclick="navigate('cars')">All Brands ${IC.chevR}</a>
      </div>
      <div class="brands-grid">
        ${BRANDS.map(b=>`
        <div class="brand-card" onclick="navigate('cars')">
          <div class="brand-logo">${BLOGOS[b.n]||`<span style="font-size:13px;font-weight:800;color:var(--ink2)">${b.n.slice(0,6)}</span>`}</div>
          <div class="brand-name">${b.n}</div>
          <div class="brand-count">${b.c} cars</div>
        </div>`).join('')}
      </div>
    </div>
  </section>

  <!-- BROWSE BY BODY TYPE -->
  <section class="sec sec-light">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Style Guide</div>
          <div class="sec-title">Browse by <span class="dim">Body Type</span></div>
          <div class="sec-sub">Find the body style that fits your lifestyle</div>
        </div>
      </div>
      <div class="body-grid">
        ${Object.entries(BODY_SVGS).map(([nm,svg])=>{
          const cnt={SUV:148,Sedan:94,Hatchback:67,MPV:32,Coupe:18,Electric:54};
          return`<div class="body-card" onclick="document.querySelectorAll('.body-card').forEach(x=>x.classList.remove('sel'));this.classList.add('sel');navigate('cars')">
            <div class="body-icon">${svg}</div>
            <div class="body-name">${nm}</div>
            <div class="body-count">${cnt[nm]||'20+'} cars</div>
          </div>`;
        }).join('')}
      </div>
    </div>
  </section>

  <!-- FEATURED CARS -->
  <section class="sec">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Handpicked</div>
          <div class="sec-title">Featured <span class="dim">New Cars</span></div>
          <div class="sec-sub">Editorial picks for 2024–25 — best value, performance & tech</div>
        </div>
        <a class="sec-viewall" onclick="navigate('cars')">See All ${IC.chevR}</a>
      </div>
      <div style="display:flex;gap:8px;margin-bottom:24px;flex-wrap:wrap;">
        ${['All','Electric','Hybrid','SUV','Sedan','Under Rs. 30L'].map((t,i)=>`
        <span class="pill-filter ${i===0?'act':''}" onclick="document.querySelectorAll('.pill-filter').forEach(x=>x.classList.remove('act'));this.classList.add('act')">${t}</span>`).join('')}
      </div>
      <div class="cars-grid">
        ${cars.map(c=>carCard(c,`navigate('detail?car=${c.id}')`)).join('')}
      </div>
    </div>
  </section>

  <!-- BUDGET CATEGORIES -->
  <section class="sec sec-light">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Smart Shopping</div>
          <div class="sec-title">Find by <span class="dim">Your Budget</span></div>
          <div class="sec-sub">We have something for every budget — entry to luxury</div>
        </div>
      </div>
      <div class="budget-grid">
        ${[
          {label:'Entry',range:'Under Rs. 20 Lakh',cnt:'68 cars',c:'#059669',bg:'#ECFDF5',border:'#A7F3D0'},
          {label:'Popular',range:'Rs. 20 – 40 Lakh',cnt:'124 cars',c:'#2563EB',bg:'#EFF6FF',border:'#BAD4FF'},
          {label:'Premium',range:'Rs. 40 – 70 Lakh',cnt:'87 cars',c:'#7C3AED',bg:'#F5F3FF',border:'#C4B5FD'},
          {label:'Luxury',range:'Rs. 70 Lakh+',cnt:'45 cars',c:'#B8920A',bg:'#FDFAF0',border:'#E8D48A'},
        ].map(b=>`
        <div class="budget-card" style="background:${b.bg};border-color:${b.border};" onclick="navigate('cars')">
          <div class="budget-pill" style="background:${b.bg};color:${b.c};border:1px solid ${b.border};">${b.label}</div>
          <div class="budget-range">${b.range}</div>
          <div class="budget-count">${b.cnt} available</div>
          <div class="budget-arrow" style="color:${b.c};">${IC.chevR}</div>
          <div class="budget-orb" style="background:${b.c};"></div>
        </div>`).join('')}
      </div>
    </div>
  </section>

  <!-- CERTIFIED USED CARS -->
  <section class="sec">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Pre-owned</div>
          <div class="sec-title">Certified <span class="dim">Used Cars</span></div>
          <div class="sec-sub">Verified quality, transparent history, best prices</div>
        </div>
        <a class="sec-viewall" onclick="navigate('used')">See All ${IC.chevR}</a>
      </div>
      <div class="used-grid">
        ${USED.map(c=>`
        <div class="used-card" onclick="navigate('used')">
          <div class="used-img" data-fb="${c.fb}">
            ${img(c.img,c.fb,'used-img-el')}
            <div class="car-badge-wrap" style="position:absolute;top:10px;left:10px;">
              <span class="cbadge ${c.type==='Diesel'?'cbadge-new':c.type==='Hybrid'?'cbadge-hybrid':'cbadge-pop'}">${c.type}</span>
            </div>
          </div>
          <div class="used-body">
            <div style="display:flex;align-items:center;gap:7px;margin-bottom:6px;">${ratBadge(c.rating)}<span style="font-size:12px;color:var(--ink4)">${c.owners} Owner</span></div>
            <div class="used-name">${c.brand} ${c.name}</div>
            <div class="used-meta">
              <span>${IC.clock} ${c.year}</span>
              <span>${IC.speed} ${c.km} km</span>
              <span>${IC.gear} ${c.trans}</span>
            </div>
            <div class="used-price">${c.price}</div>
            <div class="used-tags">
              ${c.tags.map((t,i)=>`<span class="utag ${i===0?'utag-go':'utag-br'}">${t}</span>`).join('')}
            </div>
          </div>
        </div>`).join('')}
      </div>
    </div>
  </section>

  <!-- EV PROMO STRIP -->
  <section class="sec sec-light">
    <div class="wrap">
      <div class="ev-strip">
        <div class="ev-strip-grid">
          <div>
            <div class="ev-pill">${IC.bolt} Going Electric in Nepal</div>
            <h2 class="ev-h2">Drive Electric.<br><span class="green">Save More.</span></h2>
            <p class="ev-desc">Nepal has cut EV import taxes dramatically. Explore the best electric cars with range calculators, charging maps, and real owner reviews.</p>
            <div class="ev-btns">
              <a class="btn-ev-primary" onclick="navigate('cars?f=electric')">${IC.bolt} Explore EVs</a>
              <a class="btn-ev-ghost" onclick="alert('Charging Map — coming soon!')">${IC.pin} Charging Map</a>
            </div>
          </div>
          <div class="ev-stats-grid">
            ${[{n:'420 km',l:'Best EV Range',c:'#4ADE80'},{n:'18 min',l:'Fastest Charge',c:'#60A5FA'},{n:'54',l:'EVs Listed',c:'#F472B6'},{n:'60%',l:'Tax Reduction',c:'#FCD34D'}].map(s=>`
            <div class="ev-stat"><div class="ev-stat-n" style="color:${s.c}">${s.n}</div><div class="ev-stat-l">${s.l}</div></div>`).join('')}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY CHOOSE US -->
  <section class="sec">
    <div class="wrap">
      <div style="text-align:center;margin-bottom:40px;">
        <div class="sec-label" style="justify-content:center;"><span class="sec-label-dot"></span> Our Promise</div>
        <div class="sec-title" style="text-align:center;">Why <span class="dim">AutoViindu?</span></div>
      </div>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:20px;">
        ${[
          {ico:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" width="36" height="36"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>`,t:'100% Verified Listings',d:'Every car is vetted before going live. No fake listings, no surprises.',c:'#1A6B2A'},
          {ico:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" width="36" height="36"><circle cx="12" cy="12" r="10"/><path d="M12 6v2m0 8v2M8 10h2a2 2 0 000-4H8v8h1m3-4h2a2 2 0 010 4h-2"/></svg>`,t:'Best Price Guarantee',d:'We negotiate with 100+ dealers to ensure you pay the right price.',c:'#B8920A'},
          {ico:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" width="36" height="36"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>`,t:'Transparent Reviews',d:'Real expert reviews with scores — not paid promotions.',c:'#1A6B2A'},
          {ico:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" width="36" height="36"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`,t:'Trusted Since 2020',d:'10,000+ happy buyers across Nepal trust us every month.',c:'#B8920A'},
        ].map(w=>`
        <div style="background:var(--s1);border:1px solid var(--border);border-radius:var(--r16);padding:24px;text-align:center;transition:all var(--ease);" onmouseenter="this.style.boxShadow='var(--sh-md)';this.style.transform='translateY(-3px)'" onmouseleave="this.style.boxShadow='none';this.style.transform='none'">
          <div style="width:64px;height:64px;border-radius:var(--r16);background:${`color:${w.c}`||'var(--brand-ll)'};display:flex;align-items:center;justify-content:center;margin:0 auto 16px;color:${w.c};background:${w.c}18;">${w.ico}</div>
          <div style="font-size:15px;font-weight:800;color:var(--ink);margin-bottom:8px;">${w.t}</div>
          <div style="font-size:13px;color:var(--ink4);line-height:1.65;">${w.d}</div>
        </div>`).join('')}
      </div>
    </div>
  </section>

  <!-- LATEST NEWS -->
  <section class="sec sec-light">
    <div class="wrap">
      <div class="sec-hdr">
        <div>
          <div class="sec-label"><span class="sec-label-dot"></span> Stay Informed</div>
          <div class="sec-title">News & <span class="dim">Reviews</span></div>
          <div class="sec-sub">Expert opinions, buying guides and market insights</div>
        </div>
        <a class="sec-viewall" onclick="navigate('news')">All Articles ${IC.chevR}</a>
      </div>
      <div class="news-grid">
        ${NEWS.slice(0,3).map(n=>`
        <div class="news-card" onclick="navigate('news')">
          <div class="news-img"><img src="${n.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy" alt=""></div>
          <div class="news-body">
            <div class="news-tag">${n.tag}</div>
            <div class="news-title">${n.title}</div>
            <div class="news-meta">${IC.clock} ${n.date}<span class="news-dot"></span>${n.read}</div>
          </div>
        </div>`).join('')}
      </div>
    </div>
  </section>

  <!-- CTA BANNER -->
  <section class="sec">
    <div class="wrap">
      <div style="background:linear-gradient(120deg,var(--ink),#071A0E);border-radius:var(--r20);padding:52px;text-align:center;position:relative;overflow:hidden;">
        <div style="position:absolute;inset:0;background:radial-gradient(ellipse 500px 300px at 50% 50%,rgba(26,107,42,.12),transparent);pointer-events:none;"></div>
        <div style="position:relative;z-index:1;">
          <div style="font-size:13px;font-weight:700;color:var(--brand);text-transform:uppercase;letter-spacing:.8px;margin-bottom:12px;">Ready to Find Your Car?</div>
          <h2 style="font-family:'Bebas Neue',sans-serif;font-size:52px;color:#fff;letter-spacing:.5px;margin-bottom:14px;line-height:1;">Start Your Journey Today</h2>
          <p style="font-size:15px;color:rgba(255,255,255,.45);margin-bottom:32px;max-width:480px;margin-left:auto;margin-right:auto;line-height:1.7;">500+ cars. Expert reviews. Best prices. Everything you need to make the perfect choice.</p>
          <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
            <a class="btn-hero-primary" onclick="navigate('cars')">${IC.search} Browse All Cars</a>
            <a class="btn-hero-ghost" onclick="navigate('compare')">${IC.compare} Compare Cars</a>
          </div>
        </div>
      </div>
    </div>
  </section>`;
  buildFooter();
}

function setTab(btn){
  document.querySelectorAll('.sp-tab').forEach(t=>t.classList.remove('act'));
  btn.classList.add('act');
}

/* ══ CARS LISTING ══ */
function renderCars(filter){
  document.title='New Cars in Nepal – AutoViindu';
  buildHeader('cars');
  const all=Object.values(CARS);
  const list=filter?all.filter(c=>c.type.toLowerCase()===filter||c.body.toLowerCase()===filter):all;
  document.getElementById('app').innerHTML=`
  <div class="page-hero">
    <div class="wrap">
      <div class="breadcrumb">
        <a onclick="navigate('home')">Home</a>${IC.chevR}
        <span>New Cars</span>
        ${filter?`${IC.chevR}<span style="color:rgba(255,255,255,.75);text-transform:capitalize;">${filter}</span>`:''}
      </div>
      <div class="page-title">${filter?filter.charAt(0).toUpperCase()+filter.slice(1)+' Cars':'All New Cars'} in Nepal</div>
      <div class="page-sub">${list.length} cars &middot; Ex-showroom Kathmandu</div>
    </div>
  </div>
  <div style="background:var(--s1);padding:24px 0 0;">
    <div class="wrap">
      <div class="listing-layout">
        <aside class="filter-col">
          <button class="filter-mob-btn" onclick="document.getElementById('f-drawer').classList.toggle('open');this.textContent=document.getElementById('f-drawer').classList.contains('open')?'▲ Hide Filters':'▼ Show Filters'">
            ▼ Show Filters
          </button>
          <div class="filter-drawer" id="f-drawer">
            <div class="filter-box">
              <div class="filter-hdr">Budget <button>Reset</button></div>
              ${['Under 20L','20–40L','40–60L','60L+'].map(l=>`<div class="filter-row"><input type="checkbox"><label>${l}</label></div>`).join('')}
            </div>
            <div class="filter-box">
              <div class="filter-hdr">Fuel Type <button>Reset</button></div>
              ${['Petrol','Diesel','Electric','Hybrid'].map(f=>`<div class="filter-row"><input type="checkbox" ${filter&&filter===f.toLowerCase()?'checked':''}><label>${f} <span>${Object.values(CARS).filter(c=>c.fuel===f||c.type===f).length}</span></label></div>`).join('')}
            </div>
            <div class="filter-box">
              <div class="filter-hdr">Body Type <button>Reset</button></div>
              ${['SUV','Sedan','Hatchback','MPV','Coupe'].map(b=>`<div class="filter-row"><input type="checkbox" ${filter&&filter===b.toLowerCase()?'checked':''}><label>${b} <span>${Object.values(CARS).filter(c=>c.body===b).length}</span></label></div>`).join('')}
            </div>
            <div class="filter-box">
              <div class="filter-hdr">Brand <button>Reset</button></div>
              ${['Toyota','Honda','Hyundai','Kia','BMW','Tesla','BYD','Maruti Suzuki'].map(b=>`<div class="filter-row"><input type="checkbox"><label>${b}</label></div>`).join('')}
            </div>
          </div>
        </aside>
        <div class="results-col" style="padding-bottom:48px;">
          <div class="results-bar">
            <div class="results-count">Showing <span>${list.length}</span> cars</div>
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:13px;color:var(--ink4);font-weight:600;">Sort:</span>
              <select class="sort-sel"><option>Popularity</option><option>Price: Low to High</option><option>Price: High to Low</option><option>Rating</option></select>
            </div>
          </div>
          ${filter?`<div class="active-tags"><span class="atag" onclick="navigate('cars')">${filter.charAt(0).toUpperCase()+filter.slice(1)} ${IC.x}</span></div>`:''}
          <div class="cars-grid">${list.map(c=>carCard(c,`navigate('detail?car=${c.id}')`)).join('')}</div>
        </div>
      </div>
    </div>
  </div>`;
  buildFooter();
}

/* ══ CAR DETAIL ══ */
function renderDetail(id){
  const car=CARS[id];
  if(!car){navigate('cars');return;}
  document.title=`${car.brand} ${car.name} ${car.year} Price Nepal – AutoViindu`;
  buildHeader('cars');
  const thumbs=[car.img,car.img+'&bri=10',car.img+'&sat=-30',car.img+'&con=5'];
  document.getElementById('app').innerHTML=`
  <div class="page-hero">
    <div class="wrap">
      <div class="breadcrumb">
        <a onclick="navigate('home')">Home</a>${IC.chevR}
        <a onclick="navigate('cars')">New Cars</a>${IC.chevR}
        <span style="color:rgba(255,255,255,.8);">${car.brand} ${car.name}</span>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:flex-end;flex-wrap:wrap;gap:14px;margin-top:6px;">
        <div>
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;flex-wrap:wrap;">
            ${ratBadge(car.rating)}
            <span style="font-size:12px;color:rgba(255,255,255,.4);">${car.reviews} reviews</span>
            ${car.tags.map(t=>`<span style="background:rgba(26,107,42,.15);border:1px solid rgba(26,107,42,.25);color:#4CAF68;font-size:10px;font-weight:800;padding:2px 10px;border-radius:99px;">${t}</span>`).join('')}
          </div>
          <div class="page-title">${car.brand} ${car.name} ${car.year}</div>
          <div class="page-sub">${car.tagline}</div>
        </div>
        <div style="text-align:right;">
          <div style="font-size:28px;font-weight:800;color:#fff;">${car.priceD}</div>
          <div style="font-size:12px;color:rgba(255,255,255,.35);">Ex-showroom, Kathmandu</div>
        </div>
      </div>
    </div>
  </div>
  <div style="background:var(--s1);padding:32px 0 56px;">
    <div class="wrap">
      <div class="detail-layout">
        <!-- MAIN CONTENT -->
        <div>
          <div class="gallery-main" id="gal-main">
            <img src="${car.img}" style="width:100%;height:100%;object-fit:cover;" id="gal-main-img" alt="${car.brand} ${car.name}">
          </div>
          <div class="gallery-thumbs">
            ${thumbs.map((src,i)=>`<div class="thumb ${i===0?'sel':''}" onclick="selThumb(this,'${src}')">
              <img src="${src}" style="width:100%;height:100%;object-fit:cover;" loading="lazy">
            </div>`).join('')}
          </div>
          <!-- SPEC HIGHLIGHTS -->
          <div class="spec-hl-grid">
            ${[{v:car.power,l:'Max Power'},{v:car.torque,l:'Torque'},{v:car.mileage,l:car.type==='Electric'?'Range':'Efficiency'},{v:car.trans,l:'Transmission'},{v:car.seats+' Seater',l:'Seating'},{v:car.body,l:'Body Type'}].map(s=>`
            <div class="spec-hl"><div class="spec-hl-val">${s.v}</div><div class="spec-hl-label">${s.l}</div></div>`).join('')}
          </div>
          <!-- TABS -->
          <div style="margin-top:28px;background:var(--s0);border:1px solid var(--border);border-radius:var(--r16);overflow:hidden;">
            <div class="tab-nav">
              ${['Overview','Specs','Features','Pros & Cons','Verdict'].map((t,i)=>`
              <button class="tablink ${i===0?'act':''}" onclick="switchTab(this,'tp${i}')">${t}</button>`).join('')}
            </div>
            <div style="padding:0 24px;">
              <div id="tp0" class="tabpane act">
                <p style="font-size:15px;line-height:1.8;color:var(--ink2);margin-bottom:20px;">${car.overview}</p>
                <div style="background:var(--s1);border-radius:var(--r12);padding:20px;border:1px solid var(--border);">
                  <div style="font-size:12px;font-weight:800;color:var(--ink);text-transform:uppercase;letter-spacing:.5px;margin-bottom:14px;">Key Highlights</div>
                  <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
                    ${car.pros.slice(0,4).map(p=>`<div style="display:flex;gap:8px;font-size:13.5px;color:var(--ink2);align-items:flex-start;">${IC.check.replace('stroke="currentColor"','stroke="#059669"')} ${p}</div>`).join('')}
                  </div>
                </div>
              </div>
              <div id="tp1" class="tabpane">
                <table class="spec-table">${Object.entries(car.specs).map(([k,v])=>`<tr><td>${k}</td><td>${v}</td></tr>`).join('')}</table>
              </div>
              <div id="tp2" class="tabpane">
                <div class="feat-list">${car.features.map(f=>`<div class="feat-item">${IC.check.replace('stroke="currentColor"','stroke="#059669"')} ${f}</div>`).join('')}</div>
              </div>
              <div id="tp3" class="tabpane">
                <div class="pros-cons-grid">
                  <div class="pros-box">
                    <div class="pc-title" style="color:#166534;">${IC.check.replace('stroke="currentColor"','stroke="#166534"')} What We Love</div>
                    ${car.pros.map(p=>`<div class="pc-item">${IC.check.replace('stroke="currentColor"','stroke="#166534"')} ${p}</div>`).join('')}
                  </div>
                  <div class="cons-box">
                    <div class="pc-title" style="color:#991B1B;">${IC.x.replace('stroke="currentColor"','stroke="#991B1B"')} Needs Improvement</div>
                    ${car.cons.map(c=>`<div class="pc-item">${IC.x.replace('stroke="currentColor"','stroke="#991B1B"')} ${c}</div>`).join('')}
                  </div>
                </div>
              </div>
              <div id="tp4" class="tabpane">
                <div class="verdict-box">
                  <div style="display:flex;align-items:center;gap:28px;margin-bottom:20px;flex-wrap:wrap;">
                    <div>
                      <div class="verdict-score">${car.expert}<span style="font-size:26px;color:var(--ink4);">/10</span></div>
                      <div style="font-size:12px;color:var(--ink4);margin-top:4px;">AutoViindu Expert Score</div>
                    </div>
                    <div style="flex:1;min-width:200px;">
                      <div style="font-size:14px;font-weight:700;color:var(--ink2);margin-bottom:8px;">${car.brand} ${car.name} — Our Verdict</div>
                      <div class="score-track"><div class="score-fill" style="width:${car.expert*10}%"></div></div>
                    </div>
                  </div>
                  <p style="font-size:14px;color:var(--ink2);line-height:1.75;">${car.overview} With an expert score of <strong>${car.expert}/10</strong>, the ${car.brand} ${car.name} ranks among Nepal's top choices in its segment.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- STICKY SIDEBAR -->
        <div class="sticky-wrap">
          <div class="price-card">
            <div style="font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--ink4);margin-bottom:6px;">Ex-Showroom Price</div>
            <div style="font-size:26px;font-weight:900;color:var(--ink);margin-bottom:3px;">${car.priceD}</div>
            <div style="font-size:12px;color:var(--ink4);margin-bottom:20px;">Kathmandu &middot; Including all taxes</div>
            <button class="btn btn-primary" style="width:100%;justify-content:center;margin-bottom:10px;border-radius:var(--r8);" onclick="alert('Get on-road price for ${car.brand} ${car.name}')">Get On-Road Price</button>
            <button class="btn btn-outline" style="width:100%;justify-content:center;border-radius:var(--r8);" onclick="navigate('compare')">+ Add to Compare</button>
            <div class="divider"></div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
              <button class="btn btn-sm" style="background:var(--s1);color:var(--ink2);border:1.5px solid var(--border);justify-content:center;border-radius:var(--r8);width:100%;" onclick="alert('Test drive request sent!')">Test Drive</button>
              <button class="btn btn-sm" style="background:var(--s1);color:var(--ink2);border:1.5px solid var(--border);justify-content:center;border-radius:var(--r8);width:100%;">Brochure</button>
            </div>
          </div>
          <div class="emi-card">
            <div class="emi-title">${IC.calc} EMI Calculator</div>
            ${[['Monthly EMI',`Rs. ${car.emi}`],['Down Payment (20%)',`Rs. ${Math.round(car.priceN*.2/1e5).toFixed(1)}L`],['Loan Amount',`Rs. ${Math.round(car.priceN*.8/1e5).toFixed(1)}L`],['Tenure','60 months'],['Interest Rate','10.5% p.a.']].map(([l,v])=>`
            <div class="emi-row"><span class="emi-label">${l}</span><span class="emi-val">${v}</span></div>`).join('')}
            <button style="width:100%;margin-top:12px;padding:10px;background:rgba(5,150,105,.1);border:1.5px solid rgba(5,150,105,.2);border-radius:var(--r8);color:var(--go);font-family:'Outfit',sans-serif;font-size:13px;font-weight:700;cursor:pointer;" onclick="alert('Full EMI calculator — coming soon!')">Customize EMI</button>
          </div>
          <!-- Similar Cars -->
          <div style="margin-top:14px;background:var(--s0);border:1px solid var(--border);border-radius:var(--r16);padding:18px;">
            <div style="font-size:12px;font-weight:800;text-transform:uppercase;letter-spacing:.5px;color:var(--ink);margin-bottom:14px;">Similar Cars</div>
            ${Object.values(CARS).filter(c=>c.id!==id&&(c.body===car.body||c.type===car.type)).slice(0,3).map(c=>`
            <div style="display:flex;gap:10px;padding:8px 0;border-bottom:1px solid var(--s2);cursor:pointer;transition:opacity var(--ease);" onclick="navigate('detail?car=${c.id}')" onmouseenter="this.style.opacity='.75'" onmouseleave="this.style.opacity='1'">
              <div style="width:60px;height:40px;border-radius:var(--r8);overflow:hidden;flex-shrink:0;background:var(--s2);">
                <img src="${c.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy">
              </div>
              <div style="min-width:0;flex:1;">
                <div style="font-size:13px;font-weight:700;color:var(--ink);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${c.brand} ${c.name}</div>
                <div style="font-size:11.5px;color:var(--brand);font-weight:700;margin-top:1px;">${c.priceD}</div>
              </div>
            </div>`).join('')}
          </div>
        </div>
      </div>
    </div>
  </div>`;
  buildFooter();
}
function selThumb(el,src){
  document.querySelectorAll('.thumb').forEach(t=>t.classList.remove('sel'));
  el.classList.add('sel');
  document.getElementById('gal-main-img').src=src;
}
function switchTab(btn,id){
  document.querySelectorAll('.tablink').forEach(b=>b.classList.remove('act'));
  document.querySelectorAll('.tabpane').forEach(p=>p.classList.remove('act'));
  btn.classList.add('act');
  document.getElementById(id).classList.add('act');
}

/* ══ USED CARS ══ */
function renderUsed(){
  document.title='Used Cars in Nepal – AutoViindu';
  buildHeader('used');
  document.getElementById('app').innerHTML=`
  <div class="page-hero">
    <div class="wrap">
      <div class="breadcrumb"><a onclick="navigate('home')">Home</a>${IC.chevR}<span>Used Cars</span></div>
      <div class="page-title">Certified Used Cars in Nepal</div>
      <div class="page-sub">All cars inspected &middot; Best prices &middot; Verified history</div>
    </div>
  </div>
  <div style="background:var(--s1);padding:24px 0 64px;">
    <div class="wrap">
      <div class="listing-layout">
        <aside class="filter-col">
          <button class="filter-mob-btn" onclick="document.getElementById('uf').classList.toggle('open');this.textContent=document.getElementById('uf').classList.contains('open')?'▲ Hide Filters':'▼ Show Filters'">▼ Show Filters</button>
          <div class="filter-drawer" id="uf">
            ${[['Budget',['Under 15L','15–30L','30–50L','50L+']],['Year',['2022–2024','2020–2021','2018–2019','Before 2018']],['Fuel',['Petrol','Diesel','Hybrid','Electric']],['Body',['SUV','Sedan','Hatchback','MPV']],['Owners',['1st Owner','2nd Owner','3rd Owner+']]].map(([h,o])=>`
            <div class="filter-box">
              <div class="filter-hdr">${h}</div>
              ${o.map(x=>`<div class="filter-row"><input type="checkbox"><label>${x}</label></div>`).join('')}
            </div>`).join('')}
          </div>
        </aside>
        <div class="results-col">
          <div class="results-bar">
            <div class="results-count">Showing <span>${USED.length}</span> used cars</div>
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:13px;color:var(--ink4);font-weight:600;">Sort:</span>
              <select class="sort-sel"><option>Newest</option><option>Price: Low to High</option><option>Km: Low to High</option></select>
            </div>
          </div>
          <div class="used-grid" style="grid-template-columns:repeat(auto-fill,minmax(260px,1fr))">
            ${USED.map(c=>`
            <div class="used-card">
              <div class="used-img" data-fb="${c.fb}" style="position:relative;">
                <img src="${c.img}" style="width:100%;height:100%;object-fit:cover;transition:transform .45s;" loading="lazy" onerror="this.parentElement.style.background='${c.fb}'">
                <div class="car-badge-wrap" style="position:absolute;top:10px;left:10px;">
                  <span class="cbadge ${c.type==='Diesel'?'cbadge-new':c.type==='Hybrid'?'cbadge-hybrid':'cbadge-pop'}">${c.type}</span>
                </div>
                <button class="car-wish-btn" onclick="wishToggle(this)" style="position:absolute;top:10px;right:10px;">${IC.heart}</button>
              </div>
              <div class="used-body">
                <div style="display:flex;align-items:center;gap:7px;margin-bottom:6px;">${ratBadge(c.rating)}<span style="font-size:12px;color:var(--ink4)">${c.owners} Owner</span></div>
                <div class="used-name">${c.brand} ${c.name}</div>
                <div class="used-meta">
                  <span>${IC.clock} ${c.year}</span>
                  <span>${IC.speed} ${c.km} km</span>
                  <span>${IC.gear} ${c.trans}</span>
                </div>
                <div class="used-price">${c.price}</div>
                <div class="used-tags">${c.tags.map((t,i)=>`<span class="utag ${i===0?'utag-go':'utag-br'}">${t}</span>`).join('')}</div>
                <button class="btn btn-primary" style="width:100%;margin-top:12px;justify-content:center;" onclick="alert('Contact seller: +977-9701076240')">Contact Seller</button>
              </div>
            </div>`).join('')}
          </div>
        </div>
      </div>
    </div>
  </div>`;
  buildFooter();
}

/* ══ COMPARE ══ */
let cmpCars=[null,null];
function renderCompare(){
  document.title='Compare Cars – AutoViindu';
  buildHeader('compare');
  buildCmpUI();
}
function buildCmpUI(){
  const[c1,c2]=cmpCars;
  document.getElementById('app').innerHTML=`
  <div class="page-hero">
    <div class="wrap">
      <div class="breadcrumb"><a onclick="navigate('home')">Home</a>${IC.chevR}<span>Compare</span></div>
      <div class="page-title">Compare Cars Side by Side</div>
      <div class="page-sub">Select two cars and see how they stack up</div>
    </div>
  </div>
  <div style="background:var(--s1);padding:32px 0 64px;">
    <div class="wrap">
      <div style="display:grid;grid-template-columns:200px 1fr 1fr;gap:16px;margin-bottom:32px;">
        <div></div>
        ${[0,1].map(i=>{const c=cmpCars[i];return c?`
        <div class="add-slot filled" style="padding:16px;gap:8px;align-items:flex-start;">
          <div style="width:100%;height:140px;border-radius:var(--r12);overflow:hidden;background:var(--s2);">
            <img src="${c.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy">
          </div>
          <div style="font-size:15px;font-weight:800;color:var(--ink);">${c.brand} ${c.name}</div>
          <div style="font-size:13px;color:var(--ink4);">${c.priceD}</div>
          <button onclick="cmpCars[${i}]=null;buildCmpUI()" style="font-size:12px;color:var(--brand);background:none;border:none;cursor:pointer;font-weight:700;padding:0;">Remove ×</button>
        </div>`:
        `<div class="add-slot" onclick="openCmpModal(${i})">
          <div style="width:52px;height:52px;background:var(--brand-ll);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--brand);">${IC.plus}</div>
          <div style="font-size:13.5px;font-weight:700;color:var(--ink2);">Add a Car</div>
          <div style="font-size:12px;color:var(--ink4);">Tap to select</div>
        </div>`;}).join('')}
      </div>
      ${c1&&c2?buildTable(c1,c2):`
      <div style="text-align:center;padding:60px 24px;background:var(--s0);border-radius:var(--r16);border:2px dashed var(--border-d);">
        <div style="width:72px;height:72px;border-radius:50%;background:var(--brand-ll);display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
          <svg viewBox="0 0 24 24" fill="none" stroke="var(--brand)" stroke-width="1.8" width="36" height="36"><path d="M12 3v18M3 9l3-6 3 6M9 9H3M15 15l3 6 3-6M21 15h-6M8 21h8"/></svg>
        </div>
        <div style="font-size:16px;font-weight:800;color:var(--ink);margin-bottom:6px;">Select 2 cars to compare</div>
        <div style="font-size:14px;color:var(--ink4);">Use the slots above to add cars and see a full comparison</div>
      </div>`}
    </div>
  </div>`;
  buildFooter();
}
function buildTable(c1,c2){
  const rows=[['Price',c1.priceD,c2.priceD,'lower'],['Rating',c1.rating+'/5',c2.rating+'/5','higher'],['Expert Score',c1.expert+'/10',c2.expert+'/10','higher'],['Engine',c1.engine,c2.engine,'text'],['Power',c1.power,c2.power,'higher'],['Torque',c1.torque,c2.torque,'higher'],['Mileage/Range',c1.mileage,c2.mileage,'higher'],['Transmission',c1.trans,c2.trans,'text'],['Fuel Type',c1.fuel||c1.type,c2.fuel||c2.type,'text'],['Seats',c1.seats+'',c2.seats+'','higher'],['Body Type',c1.body,c2.body,'text']];
  function win(v1,v2,mode){if(mode==='text')return[false,false];const n1=parseFloat(v1.replace(/[^\d.]/g,'')),n2=parseFloat(v2.replace(/[^\d.]/g,''));if(isNaN(n1)||isNaN(n2))return[false,false];return mode==='higher'?[n1>n2,n2>n1]:[n1<n2,n2<n1];}
  return`<div class="cmp-wrap"><div class="cmp-grid">
    <div class="cmp-hdr dim">Specification</div>
    <div class="cmp-hdr">${c1.brand} ${c1.name}</div>
    <div class="cmp-hdr">${c2.brand} ${c2.name}</div>
    ${rows.map(([lbl,v1,v2,mode])=>{const[w1,w2]=win(v1,v2,mode);return`<div class="cmp-cell cmp-label">${lbl}</div><div class="cmp-cell ${w1?'cmp-win':''}">${v1}${w1?' ✓':''}</div><div class="cmp-cell ${w2?'cmp-win':''}">${v2}${w2?' ✓':''}</div>`;}).join('')}
  </div></div>`;
}
function openCmpModal(slot){
  const m=document.getElementById('cmp-modal');
  m.style.display='flex';m.dataset.slot=slot;
  document.getElementById('cmp-search').value='';
  filterCmpCars('');
  setTimeout(()=>document.getElementById('cmp-search').focus(),120);
}
function filterCmpCars(q){
  const f=q.toLowerCase();
  const list=Object.values(CARS).filter(c=>!f||c.brand.toLowerCase().includes(f)||c.name.toLowerCase().includes(f));
  document.getElementById('cmp-options').innerHTML=list.map(c=>`
  <div class="car-opt" onclick="selectCmpCar('${c.id}')">
    <div class="car-opt-img"><img src="${c.img}" style="width:100%;height:100%;object-fit:cover;"></div>
    <div>
      <div style="font-size:14px;font-weight:800;">${c.brand} ${c.name}</div>
      <div style="font-size:12px;color:var(--ink4);">${c.year} · ${c.type} · ${c.priceD}</div>
    </div>
  </div>`).join('');
}
function selectCmpCar(id){
  cmpCars[parseInt(document.getElementById('cmp-modal').dataset.slot)]=CARS[id];
  document.getElementById('cmp-modal').style.display='none';
  buildCmpUI();
}
function closeCmpModal(e){if(e.target===document.getElementById('cmp-modal'))document.getElementById('cmp-modal').style.display='none';}

/* ══ NEWS ══ */
function renderNews(){
  document.title='Car News & Reviews Nepal – AutoViindu';
  buildHeader('news');
  document.getElementById('app').innerHTML=`
  <div class="page-hero">
    <div class="wrap">
      <div class="breadcrumb"><a onclick="navigate('home')">Home</a>${IC.chevR}<span>News & Reviews</span></div>
      <div class="page-title">Car News & Reviews</div>
      <div class="page-sub">Expert opinions, buying guides and automotive news from Nepal</div>
    </div>
  </div>
  <div style="background:var(--s1);padding:32px 0 64px;">
    <div class="wrap">
      <div style="display:flex;gap:8px;margin-bottom:28px;flex-wrap:wrap;">
        ${['All','Reviews','Comparisons','Buying Guides','EV News'].map((t,i)=>`
        <span class="pill-filter ${i===0?'act':''}" onclick="document.querySelectorAll('.pill-filter').forEach(x=>x.classList.remove('act'));this.classList.add('act')">${t}</span>`).join('')}
      </div>
      <div class="news-grid">
        ${NEWS.map(n=>`
        <div class="news-card">
          <div class="news-img"><img src="${n.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy" alt=""></div>
          <div class="news-body">
            <div class="news-tag">${n.tag}</div>
            <div class="news-title">${n.title}</div>
            <div class="news-meta">${IC.clock} ${n.date}<span class="news-dot"></span>${n.read}</div>
          </div>
        </div>`).join('')}
      </div>
      <!-- FEATURED ARTICLE -->
      <div style="margin-top:40px;display:grid;grid-template-columns:2fr 1fr;gap:20px;">
        <div style="background:var(--s0);border:1px solid var(--border);border-radius:var(--r16);overflow:hidden;cursor:pointer;transition:all var(--ease);" onmouseenter="this.style.boxShadow='var(--sh-md)';this.style.transform='translateY(-3px)'" onmouseleave="this.style.boxShadow='none';this.style.transform='none'">
          <div style="height:240px;overflow:hidden;">
            <img src="https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=700&h=300&fit=crop" style="width:100%;height:100%;object-fit:cover;transition:transform .45s;" onmouseenter="this.style.transform='scale(1.05)'" onmouseleave="this.style.transform='none'">
          </div>
          <div style="padding:22px;">
            <div class="news-tag">Complete Guide</div>
            <div style="font-size:20px;font-weight:800;color:var(--ink);line-height:1.3;margin-bottom:10px;">Complete Guide: Buying Your First Car in Nepal — Everything You Need to Know in 2025</div>
            <p style="font-size:13.5px;color:var(--ink4);line-height:1.7;">From setting your budget to negotiating with dealers, understanding ownership costs and paperwork — our comprehensive guide has you covered.</p>
            <div class="news-meta" style="margin-top:14px;">${IC.clock} Jan 28, 2025<span class="news-dot"></span>8 min read</div>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:12px;">
          ${NEWS.slice(3).map(n=>`
          <div style="display:flex;gap:12px;background:var(--s0);border:1px solid var(--border);border-radius:var(--r12);overflow:hidden;cursor:pointer;transition:all var(--ease);padding:12px;" onmouseenter="this.style.boxShadow='var(--sh-sm)'" onmouseleave="this.style.boxShadow='none'">
            <div style="width:82px;height:60px;border-radius:var(--r8);overflow:hidden;flex-shrink:0;background:var(--s2);">
              <img src="${n.img}" style="width:100%;height:100%;object-fit:cover;" loading="lazy">
            </div>
            <div style="min-width:0;">
              <div style="font-size:10px;font-weight:800;color:var(--brand);text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;">${n.tag}</div>
              <div style="font-size:13px;font-weight:700;color:var(--ink);line-height:1.4;">${n.title}</div>
              <div style="font-size:11px;color:var(--ink4);margin-top:5px;">${n.date}</div>
            </div>
          </div>`).join('')}
        </div>
      </div>
    </div>
  </div>`;
  buildFooter();
}

/* ── SCROLL ANIMATIONS ── */
function initScrollAnim(){
  if(!window.IntersectionObserver)return;
  const io=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){
        e.target.style.opacity='1';
        e.target.style.transform='translateY(0)';
        io.unobserve(e.target);
      }
    });
  },{threshold:.08,rootMargin:'0px 0px -24px 0px'});
  const els=document.querySelectorAll('.car-card,.used-card,.news-card,.brand-card,.body-card,.budget-card,.hcard');
  els.forEach(el=>{
    if(el.style.opacity==='')el.style.cssText+='opacity:0;transform:translateY(18px);transition:opacity .45s ease,transform .45s ease;';
    io.observe(el);
  });
}

/* ── BOOT ── */
renderHome();
setTimeout(initScrollAnim,100);
</script>
</body>
</html>
